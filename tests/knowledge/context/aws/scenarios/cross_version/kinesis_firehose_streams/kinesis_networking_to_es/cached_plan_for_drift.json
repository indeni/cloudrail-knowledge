{"format_version":"0.1","terraform_version":"0.15.0-rc2","planned_values":{"root_module":{"resources":[{"address":"aws_elasticsearch_domain.test_cluster","mode":"managed","type":"aws_elasticsearch_domain","name":"test_cluster","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"access_policies":null,"advanced_options":{"rest.action.multi.allow_explicit_index":"true"},"advanced_security_options":[],"arn":"arn:aws:es:us-east-1:111111111111:domain/es-test","cluster_config":[{"dedicated_master_count":null,"dedicated_master_enabled":null,"dedicated_master_type":null,"instance_count":2,"instance_type":"t2.small.elasticsearch","warm_count":null,"warm_enabled":null,"warm_type":null,"zone_awareness_config":[],"zone_awareness_enabled":true}],"cognito_options":[],"domain_endpoint_options":[],"domain_id":"111111111111/es-test","domain_name":"es-test","ebs_options":[{"ebs_enabled":true,"iops":null,"volume_size":10,"volume_type":"gp2"}],"elasticsearch_version":"1.5","encrypt_at_rest":[],"endpoint":"vpc-es-test-7kpcepyikw4hpw3qh2pbsizftq.us-east-1.es.amazonaws.com","id":"arn:aws:es:us-east-1:111111111111:domain/es-test","kibana_endpoint":"vpc-es-test-7kpcepyikw4hpw3qh2pbsizftq.us-east-1.es.amazonaws.com/_plugin/kibana/","log_publishing_options":[],"node_to_node_encryption":[],"snapshot_options":[],"tags":{},"tags_all":{},"timeouts":null,"vpc_options":[{"availability_zones":["us-east-1a","us-east-1b"],"security_group_ids":["sg-0f5165324b243424b"],"subnet_ids":["subnet-0192d9ec938123fa0","subnet-0f53a489a6290f874"],"vpc_id":"vpc-0258e9d37eb1732d0"}]}},{"address":"aws_iam_role.firehose_role","mode":"managed","type":"aws_iam_role","name":"firehose_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::111111111111:role/firehose_test_role","assume_role_policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"firehose.amazonaws.com\"\n      },\n      \"Effect\": \"Allow\",\n      \"Sid\": \"\"\n    }\n  ]\n}\n","create_date":"2021-06-13T13:27:46Z","description":"","force_detach_policies":false,"id":"firehose_test_role","inline_policy":[],"managed_policy_arns":[],"max_session_duration":3600,"name":"firehose_test_role","name_prefix":null,"path":"/","permissions_boundary":null,"tags":{},"tags_all":{},"unique_id":"AROARVZ4AQRHWHC4KXS7U"}},{"address":"aws_iam_role_policy.firehose-elasticsearch","mode":"managed","type":"aws_iam_role_policy","name":"firehose-elasticsearch","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"firehose_test_role:elasticsearch","name":"elasticsearch","name_prefix":null,"policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"es:*\"\n      ],\n      \"Resource\": [\n        \"arn:aws:es:us-east-1:111111111111:domain/es-test\",\n        \"arn:aws:es:us-east-1:111111111111:domain/es-test/*\"\n      ]\n        },\n        {\n          \"Effect\": \"Allow\",\n          \"Action\": [\n            \"ec2:DescribeVpcs\",\n            \"ec2:DescribeVpcAttribute\",\n            \"ec2:DescribeSubnets\",\n            \"ec2:DescribeSecurityGroups\",\n            \"ec2:DescribeNetworkInterfaces\",\n            \"ec2:CreateNetworkInterface\",\n            \"ec2:CreateNetworkInterfacePermission\",\n            \"ec2:DeleteNetworkInterface\"\n          ],\n          \"Resource\": [\n            \"*\"\n          ]\n        }\n  ]\n}\n","role":"firehose_test_role"}},{"address":"aws_internet_gateway.gw","mode":"managed","type":"aws_internet_gateway","name":"gw","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:us-east-1:111111111111:internet-gateway/igw-03addefd4b46c2c4f","id":"igw-03addefd4b46c2c4f","owner_id":"111111111111","tags":{"Name":"main"},"tags_all":{"Name":"main"},"vpc_id":"vpc-0258e9d37eb1732d0"}},{"address":"aws_kinesis_firehose_delivery_stream.test","mode":"managed","type":"aws_kinesis_firehose_delivery_stream","name":"test","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:firehose:us-east-1:111111111111:deliverystream/terraform-kinesis-firehose-es","destination":"elasticsearch","destination_id":"destinationId-000000000001","elasticsearch_configuration":[{"buffering_interval":null,"buffering_size":null,"cloudwatch_logging_options":[],"cluster_endpoint":null,"domain_arn":"arn:aws:es:us-east-1:111111111111:domain/es-test","index_name":"test","index_rotation_period":null,"processing_configuration":[],"retry_duration":null,"role_arn":"arn:aws:iam::111111111111:role/firehose_test_role","s3_backup_mode":null,"type_name":"test","vpc_config":[{"role_arn":"arn:aws:iam::111111111111:role/firehose_test_role","security_group_ids":["sg-0f5165324b243424b"],"subnet_ids":["subnet-0192d9ec938123fa0","subnet-0f53a489a6290f874"],"vpc_id":"vpc-0258e9d37eb1732d0"}]}],"extended_s3_configuration":[],"http_endpoint_configuration":[],"id":"arn:aws:firehose:us-east-1:111111111111:deliverystream/terraform-kinesis-firehose-es","kinesis_source_configuration":[],"name":"terraform-kinesis-firehose-es","redshift_configuration":[],"s3_configuration":[{"bucket_arn":"arn:aws:s3:::cloudrail-firehose-testing-kinesis","buffer_interval":null,"buffer_size":null,"cloudwatch_logging_options":[],"compression_format":null,"kms_key_arn":null,"prefix":null,"role_arn":"arn:aws:iam::111111111111:role/firehose_test_role"}],"server_side_encryption":[],"splunk_configuration":[],"tags":{},"tags_all":{},"version_id":"1"}},{"address":"aws_route_table.public-rtb","mode":"managed","type":"aws_route_table","name":"public-rtb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:us-east-1:111111111111:route-table/rtb-0e6a52273da6089ef","id":"rtb-0e6a52273da6089ef","owner_id":"111111111111","propagating_vgws":[],"route":[{"carrier_gateway_id":null,"cidr_block":"0.0.0.0/0","destination_prefix_list_id":null,"egress_only_gateway_id":null,"gateway_id":"igw-03addefd4b46c2c4f","instance_id":null,"ipv6_cidr_block":null,"local_gateway_id":null,"nat_gateway_id":null,"network_interface_id":null,"transit_gateway_id":null,"vpc_endpoint_id":null,"vpc_peering_connection_id":null}],"tags":{"Name":"public-rtb"},"tags_all":{"Name":"public-rtb"},"vpc_id":"vpc-0258e9d37eb1732d0"}},{"address":"aws_route_table_association.public-rtb-assoc_1","mode":"managed","type":"aws_route_table_association","name":"public-rtb-assoc_1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"id":"rtbassoc-0d4f8956a261c6e5f","route_table_id":"rtb-0e6a52273da6089ef","subnet_id":"subnet-0192d9ec938123fa0"}},{"address":"aws_route_table_association.public-rtb-assoc_2","mode":"managed","type":"aws_route_table_association","name":"public-rtb-assoc_2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"id":"rtbassoc-041caf5e3cd6211f0","route_table_id":"rtb-0e6a52273da6089ef","subnet_id":"subnet-0f53a489a6290f874"}},{"address":"aws_s3_bucket.bucket","mode":"managed","type":"aws_s3_bucket","name":"bucket","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acceleration_status":"","acl":"private","arn":"arn:aws:s3:::cloudrail-firehose-testing-kinesis","bucket":"cloudrail-firehose-testing-kinesis","bucket_domain_name":"cloudrail-firehose-testing-kinesis.s3.amazonaws.com","bucket_prefix":null,"bucket_regional_domain_name":"cloudrail-firehose-testing-kinesis.s3.amazonaws.com","cors_rule":[],"force_destroy":false,"grant":[],"hosted_zone_id":"Z3AQBSTGFYJSTF","id":"cloudrail-firehose-testing-kinesis","lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"policy":null,"region":"us-east-1","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[],"website_domain":null,"website_endpoint":null}},{"address":"aws_security_group.nondefault","mode":"managed","type":"aws_security_group","name":"nondefault","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:111111111111:security-group/sg-0f5165324b243424b","description":"Managed by Terraform","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":null,"to_port":0}],"id":"sg-0f5165324b243424b","ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":null,"to_port":0}],"name":"terraform-20210613132754440200000001","name_prefix":"terraform-","owner_id":"111111111111","revoke_rules_on_delete":false,"tags":{},"tags_all":{},"timeouts":null,"vpc_id":"vpc-0258e9d37eb1732d0"}},{"address":"aws_subnet.nondefault_1","mode":"managed","type":"aws_subnet","name":"nondefault_1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:111111111111:subnet/subnet-0192d9ec938123fa0","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","availability_zone_id":"use1-az1","cidr_block":"10.1.1.128/25","customer_owned_ipv4_pool":"","id":"subnet-0192d9ec938123fa0","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"111111111111","tags":{},"tags_all":{},"timeouts":null,"vpc_id":"vpc-0258e9d37eb1732d0"}},{"address":"aws_subnet.nondefault_2","mode":"managed","type":"aws_subnet","name":"nondefault_2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:111111111111:subnet/subnet-0f53a489a6290f874","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","availability_zone_id":"use1-az2","cidr_block":"10.1.1.0/25","customer_owned_ipv4_pool":"","id":"subnet-0f53a489a6290f874","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"111111111111","tags":{},"tags_all":{},"timeouts":null,"vpc_id":"vpc-0258e9d37eb1732d0"}},{"address":"aws_vpc.nondefault","mode":"managed","type":"aws_vpc","name":"nondefault","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:111111111111:vpc/vpc-0258e9d37eb1732d0","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.1.1.0/24","default_network_acl_id":"acl-07a41e2ae2a8d0560","default_route_table_id":"rtb-010160e6acca44089","default_security_group_id":"sg-011520cf8ea26ba42","dhcp_options_id":"dopt-3045214a","enable_classiclink":false,"enable_classiclink_dns_support":false,"enable_dns_hostnames":false,"enable_dns_support":true,"id":"vpc-0258e9d37eb1732d0","instance_tenancy":"default","ipv6_association_id":"","ipv6_cidr_block":"","main_route_table_id":"rtb-010160e6acca44089","owner_id":"111111111111","tags":{},"tags_all":{}}}]}},"resource_changes":[{"address":"aws_elasticsearch_domain.test_cluster","mode":"managed","type":"aws_elasticsearch_domain","name":"test_cluster","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"access_policies":null,"advanced_options":{"rest.action.multi.allow_explicit_index":"true"},"advanced_security_options":[{"enabled":false,"internal_user_database_enabled":false,"master_user_options":[]}],"arn":"arn:aws:es:us-east-1:111111111111:domain/es-test","cluster_config":[{"dedicated_master_count":0,"dedicated_master_enabled":false,"dedicated_master_type":"","instance_count":2,"instance_type":"t2.small.elasticsearch","warm_count":0,"warm_enabled":false,"warm_type":"","zone_awareness_config":[{"availability_zone_count":2}],"zone_awareness_enabled":true}],"cognito_options":[{"enabled":false,"identity_pool_id":"","role_arn":"","user_pool_id":""}],"domain_endpoint_options":[{"custom_endpoint":"","custom_endpoint_certificate_arn":"","custom_endpoint_enabled":false,"enforce_https":false,"tls_security_policy":"Policy-Min-TLS-1-0-2019-07"}],"domain_id":"111111111111/es-test","domain_name":"es-test","ebs_options":[{"ebs_enabled":true,"iops":0,"volume_size":10,"volume_type":"gp2"}],"elasticsearch_version":"1.5","encrypt_at_rest":[{"enabled":false,"kms_key_id":""}],"endpoint":"vpc-es-test-7kpcepyikw4hpw3qh2pbsizftq.us-east-1.es.amazonaws.com","id":"arn:aws:es:us-east-1:111111111111:domain/es-test","kibana_endpoint":"vpc-es-test-7kpcepyikw4hpw3qh2pbsizftq.us-east-1.es.amazonaws.com/_plugin/kibana/","log_publishing_options":[],"node_to_node_encryption":[{"enabled":false}],"snapshot_options":[{"automated_snapshot_start_hour":0}],"tags":{},"tags_all":{},"timeouts":null,"vpc_options":[{"availability_zones":["us-east-1a","us-east-1b"],"security_group_ids":["sg-0f5165324b243424b"],"subnet_ids":["subnet-0192d9ec938123fa0","subnet-0f53a489a6290f874"],"vpc_id":"vpc-0258e9d37eb1732d0"}]},"after":{"access_policies":null,"advanced_options":{"rest.action.multi.allow_explicit_index":"true"},"advanced_security_options":[],"arn":"arn:aws:es:us-east-1:111111111111:domain/es-test","cluster_config":[{"dedicated_master_count":null,"dedicated_master_enabled":null,"dedicated_master_type":null,"instance_count":2,"instance_type":"t2.small.elasticsearch","warm_count":null,"warm_enabled":null,"warm_type":null,"zone_awareness_config":[],"zone_awareness_enabled":true}],"cognito_options":[],"domain_endpoint_options":[],"domain_id":"111111111111/es-test","domain_name":"es-test","ebs_options":[{"ebs_enabled":true,"iops":null,"volume_size":10,"volume_type":"gp2"}],"elasticsearch_version":"1.5","encrypt_at_rest":[],"endpoint":"vpc-es-test-7kpcepyikw4hpw3qh2pbsizftq.us-east-1.es.amazonaws.com","id":"arn:aws:es:us-east-1:111111111111:domain/es-test","kibana_endpoint":"vpc-es-test-7kpcepyikw4hpw3qh2pbsizftq.us-east-1.es.amazonaws.com/_plugin/kibana/","log_publishing_options":[],"node_to_node_encryption":[],"snapshot_options":[],"tags":{},"tags_all":{},"timeouts":null,"vpc_options":[{"availability_zones":["us-east-1a","us-east-1b"],"security_group_ids":["sg-0f5165324b243424b"],"subnet_ids":["subnet-0192d9ec938123fa0","subnet-0f53a489a6290f874"],"vpc_id":"vpc-0258e9d37eb1732d0"}]},"after_unknown":{},"before_sensitive":{"advanced_options":{},"advanced_security_options":[{"master_user_options":[]}],"cluster_config":[{"zone_awareness_config":[{}]}],"cognito_options":[{}],"domain_endpoint_options":[{}],"ebs_options":[{}],"encrypt_at_rest":[{}],"log_publishing_options":[],"node_to_node_encryption":[{}],"snapshot_options":[{}],"tags":{},"tags_all":{},"vpc_options":[{"availability_zones":[false,false],"security_group_ids":[false],"subnet_ids":[false,false]}]},"after_sensitive":{"advanced_options":{},"advanced_security_options":[],"cluster_config":[{"zone_awareness_config":[]}],"cognito_options":[],"domain_endpoint_options":[],"ebs_options":[{}],"encrypt_at_rest":[],"log_publishing_options":[],"node_to_node_encryption":[],"snapshot_options":[],"tags":{},"tags_all":{},"vpc_options":[{"availability_zones":[false,false],"security_group_ids":[false],"subnet_ids":[false,false]}]}}},{"address":"aws_iam_role.firehose_role","mode":"managed","type":"aws_iam_role","name":"firehose_role","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"arn":"arn:aws:iam::111111111111:role/firehose_test_role","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"firehose.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2021-06-13T13:27:46Z","description":"","force_detach_policies":false,"id":"firehose_test_role","inline_policy":[{"name":"elasticsearch","policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"es:*\"\n      ],\n      \"Resource\": [\n        \"arn:aws:es:us-east-1:111111111111:domain/es-test\",\n        \"arn:aws:es:us-east-1:111111111111:domain/es-test/*\"\n      ]\n        },\n        {\n          \"Effect\": \"Allow\",\n          \"Action\": [\n            \"ec2:DescribeVpcs\",\n            \"ec2:DescribeVpcAttribute\",\n            \"ec2:DescribeSubnets\",\n            \"ec2:DescribeSecurityGroups\",\n            \"ec2:DescribeNetworkInterfaces\",\n            \"ec2:CreateNetworkInterface\",\n            \"ec2:CreateNetworkInterfacePermission\",\n            \"ec2:DeleteNetworkInterface\"\n          ],\n          \"Resource\": [\n            \"*\"\n          ]\n        }\n  ]\n}\n"}],"managed_policy_arns":[],"max_session_duration":3600,"name":"firehose_test_role","name_prefix":null,"path":"/","permissions_boundary":null,"tags":{},"tags_all":{},"unique_id":"AROARVZ4AQRHWHC4KXS7U"},"after":{"arn":"arn:aws:iam::111111111111:role/firehose_test_role","assume_role_policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"firehose.amazonaws.com\"\n      },\n      \"Effect\": \"Allow\",\n      \"Sid\": \"\"\n    }\n  ]\n}\n","create_date":"2021-06-13T13:27:46Z","description":"","force_detach_policies":false,"id":"firehose_test_role","inline_policy":[],"managed_policy_arns":[],"max_session_duration":3600,"name":"firehose_test_role","name_prefix":null,"path":"/","permissions_boundary":null,"tags":{},"tags_all":{},"unique_id":"AROARVZ4AQRHWHC4KXS7U"},"after_unknown":{},"before_sensitive":{"inline_policy":[{}],"managed_policy_arns":[],"tags":{},"tags_all":{}},"after_sensitive":{"inline_policy":[],"managed_policy_arns":[],"tags":{},"tags_all":{}}}},{"address":"aws_iam_role_policy.firehose-elasticsearch","mode":"managed","type":"aws_iam_role_policy","name":"firehose-elasticsearch","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"firehose_test_role:elasticsearch","name":"elasticsearch","name_prefix":null,"policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"es:*\"\n      ],\n      \"Resource\": [\n        \"arn:aws:es:us-east-1:111111111111:domain/es-test\",\n        \"arn:aws:es:us-east-1:111111111111:domain/es-test/*\"\n      ]\n        },\n        {\n          \"Effect\": \"Allow\",\n          \"Action\": [\n            \"ec2:DescribeVpcs\",\n            \"ec2:DescribeVpcAttribute\",\n            \"ec2:DescribeSubnets\",\n            \"ec2:DescribeSecurityGroups\",\n            \"ec2:DescribeNetworkInterfaces\",\n            \"ec2:CreateNetworkInterface\",\n            \"ec2:CreateNetworkInterfacePermission\",\n            \"ec2:DeleteNetworkInterface\"\n          ],\n          \"Resource\": [\n            \"*\"\n          ]\n        }\n  ]\n}\n","role":"firehose_test_role"},"after":{"id":"firehose_test_role:elasticsearch","name":"elasticsearch","name_prefix":null,"policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"es:*\"\n      ],\n      \"Resource\": [\n        \"arn:aws:es:us-east-1:111111111111:domain/es-test\",\n        \"arn:aws:es:us-east-1:111111111111:domain/es-test/*\"\n      ]\n        },\n        {\n          \"Effect\": \"Allow\",\n          \"Action\": [\n            \"ec2:DescribeVpcs\",\n            \"ec2:DescribeVpcAttribute\",\n            \"ec2:DescribeSubnets\",\n            \"ec2:DescribeSecurityGroups\",\n            \"ec2:DescribeNetworkInterfaces\",\n            \"ec2:CreateNetworkInterface\",\n            \"ec2:CreateNetworkInterfacePermission\",\n            \"ec2:DeleteNetworkInterface\"\n          ],\n          \"Resource\": [\n            \"*\"\n          ]\n        }\n  ]\n}\n","role":"firehose_test_role"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_internet_gateway.gw","mode":"managed","type":"aws_internet_gateway","name":"gw","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:us-east-1:111111111111:internet-gateway/igw-03addefd4b46c2c4f","id":"igw-03addefd4b46c2c4f","owner_id":"111111111111","tags":{"Name":"main"},"tags_all":{"Name":"main"},"vpc_id":"vpc-0258e9d37eb1732d0"},"after":{"arn":"arn:aws:ec2:us-east-1:111111111111:internet-gateway/igw-03addefd4b46c2c4f","id":"igw-03addefd4b46c2c4f","owner_id":"111111111111","tags":{"Name":"main"},"tags_all":{"Name":"main"},"vpc_id":"vpc-0258e9d37eb1732d0"},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_kinesis_firehose_delivery_stream.test","mode":"managed","type":"aws_kinesis_firehose_delivery_stream","name":"test","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"arn":"arn:aws:firehose:us-east-1:111111111111:deliverystream/terraform-kinesis-firehose-es","destination":"elasticsearch","destination_id":"destinationId-000000000001","elasticsearch_configuration":[{"buffering_interval":300,"buffering_size":5,"cloudwatch_logging_options":[{"enabled":false,"log_group_name":"","log_stream_name":""}],"cluster_endpoint":"","domain_arn":"arn:aws:es:us-east-1:111111111111:domain/es-test","index_name":"test","index_rotation_period":"OneDay","processing_configuration":[{"enabled":false,"processors":[]}],"retry_duration":300,"role_arn":"arn:aws:iam::111111111111:role/firehose_test_role","s3_backup_mode":"FailedDocumentsOnly","type_name":"test","vpc_config":[{"role_arn":"arn:aws:iam::111111111111:role/firehose_test_role","security_group_ids":["sg-0f5165324b243424b"],"subnet_ids":["subnet-0192d9ec938123fa0","subnet-0f53a489a6290f874"],"vpc_id":"vpc-0258e9d37eb1732d0"}]}],"extended_s3_configuration":[],"http_endpoint_configuration":[],"id":"arn:aws:firehose:us-east-1:111111111111:deliverystream/terraform-kinesis-firehose-es","kinesis_source_configuration":[],"name":"terraform-kinesis-firehose-es","redshift_configuration":[],"s3_configuration":[{"bucket_arn":"arn:aws:s3:::cloudrail-firehose-testing-kinesis","buffer_interval":300,"buffer_size":5,"cloudwatch_logging_options":[{"enabled":false,"log_group_name":"","log_stream_name":""}],"compression_format":"UNCOMPRESSED","kms_key_arn":"","prefix":"","role_arn":"arn:aws:iam::111111111111:role/firehose_test_role"}],"server_side_encryption":[{"enabled":false,"key_arn":"","key_type":"AWS_OWNED_CMK"}],"splunk_configuration":[],"tags":{},"tags_all":{},"version_id":"1"},"after":{"arn":"arn:aws:firehose:us-east-1:111111111111:deliverystream/terraform-kinesis-firehose-es","destination":"elasticsearch","destination_id":"destinationId-000000000001","elasticsearch_configuration":[{"buffering_interval":null,"buffering_size":null,"cloudwatch_logging_options":[],"cluster_endpoint":null,"domain_arn":"arn:aws:es:us-east-1:111111111111:domain/es-test","index_name":"test","index_rotation_period":null,"processing_configuration":[],"retry_duration":null,"role_arn":"arn:aws:iam::111111111111:role/firehose_test_role","s3_backup_mode":null,"type_name":"test","vpc_config":[{"role_arn":"arn:aws:iam::111111111111:role/firehose_test_role","security_group_ids":["sg-0f5165324b243424b"],"subnet_ids":["subnet-0192d9ec938123fa0","subnet-0f53a489a6290f874"],"vpc_id":"vpc-0258e9d37eb1732d0"}]}],"extended_s3_configuration":[],"http_endpoint_configuration":[],"id":"arn:aws:firehose:us-east-1:111111111111:deliverystream/terraform-kinesis-firehose-es","kinesis_source_configuration":[],"name":"terraform-kinesis-firehose-es","redshift_configuration":[],"s3_configuration":[{"bucket_arn":"arn:aws:s3:::cloudrail-firehose-testing-kinesis","buffer_interval":null,"buffer_size":null,"cloudwatch_logging_options":[],"compression_format":null,"kms_key_arn":null,"prefix":null,"role_arn":"arn:aws:iam::111111111111:role/firehose_test_role"}],"server_side_encryption":[],"splunk_configuration":[],"tags":{},"tags_all":{},"version_id":"1"},"after_unknown":{},"before_sensitive":{"elasticsearch_configuration":[{"cloudwatch_logging_options":[{}],"processing_configuration":[{"processors":[]}],"vpc_config":[{"security_group_ids":[false],"subnet_ids":[false,false]}]}],"extended_s3_configuration":[],"http_endpoint_configuration":[],"kinesis_source_configuration":[],"redshift_configuration":[],"s3_configuration":[{"cloudwatch_logging_options":[{}]}],"server_side_encryption":[{}],"splunk_configuration":[],"tags":{},"tags_all":{}},"after_sensitive":{"elasticsearch_configuration":[{"cloudwatch_logging_options":[],"processing_configuration":[],"vpc_config":[{"security_group_ids":[false],"subnet_ids":[false,false]}]}],"extended_s3_configuration":[],"http_endpoint_configuration":[],"kinesis_source_configuration":[],"redshift_configuration":[],"s3_configuration":[{"cloudwatch_logging_options":[]}],"server_side_encryption":[],"splunk_configuration":[],"tags":{},"tags_all":{}}}},{"address":"aws_route_table.public-rtb","mode":"managed","type":"aws_route_table","name":"public-rtb","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"arn":"arn:aws:ec2:us-east-1:111111111111:route-table/rtb-0e6a52273da6089ef","id":"rtb-0e6a52273da6089ef","owner_id":"111111111111","propagating_vgws":[],"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"igw-03addefd4b46c2c4f","instance_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"public-rtb"},"tags_all":{"Name":"public-rtb"},"vpc_id":"vpc-0258e9d37eb1732d0"},"after":{"arn":"arn:aws:ec2:us-east-1:111111111111:route-table/rtb-0e6a52273da6089ef","id":"rtb-0e6a52273da6089ef","owner_id":"111111111111","propagating_vgws":[],"route":[{"carrier_gateway_id":null,"cidr_block":"0.0.0.0/0","destination_prefix_list_id":null,"egress_only_gateway_id":null,"gateway_id":"igw-03addefd4b46c2c4f","instance_id":null,"ipv6_cidr_block":null,"local_gateway_id":null,"nat_gateway_id":null,"network_interface_id":null,"transit_gateway_id":null,"vpc_endpoint_id":null,"vpc_peering_connection_id":null}],"tags":{"Name":"public-rtb"},"tags_all":{"Name":"public-rtb"},"vpc_id":"vpc-0258e9d37eb1732d0"},"after_unknown":{},"before_sensitive":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}},"after_sensitive":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}}},{"address":"aws_route_table_association.public-rtb-assoc_1","mode":"managed","type":"aws_route_table_association","name":"public-rtb-assoc_1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"gateway_id":null,"id":"rtbassoc-0d4f8956a261c6e5f","route_table_id":"rtb-0e6a52273da6089ef","subnet_id":"subnet-0192d9ec938123fa0"},"after":{"gateway_id":null,"id":"rtbassoc-0d4f8956a261c6e5f","route_table_id":"rtb-0e6a52273da6089ef","subnet_id":"subnet-0192d9ec938123fa0"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_route_table_association.public-rtb-assoc_2","mode":"managed","type":"aws_route_table_association","name":"public-rtb-assoc_2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"gateway_id":null,"id":"rtbassoc-041caf5e3cd6211f0","route_table_id":"rtb-0e6a52273da6089ef","subnet_id":"subnet-0f53a489a6290f874"},"after":{"gateway_id":null,"id":"rtbassoc-041caf5e3cd6211f0","route_table_id":"rtb-0e6a52273da6089ef","subnet_id":"subnet-0f53a489a6290f874"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"aws_s3_bucket.bucket","mode":"managed","type":"aws_s3_bucket","name":"bucket","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"acceleration_status":"","acl":"private","arn":"arn:aws:s3:::cloudrail-firehose-testing-kinesis","bucket":"cloudrail-firehose-testing-kinesis","bucket_domain_name":"cloudrail-firehose-testing-kinesis.s3.amazonaws.com","bucket_prefix":null,"bucket_regional_domain_name":"cloudrail-firehose-testing-kinesis.s3.amazonaws.com","cors_rule":[],"force_destroy":false,"grant":[],"hosted_zone_id":"Z3AQBSTGFYJSTF","id":"cloudrail-firehose-testing-kinesis","lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"policy":null,"region":"us-east-1","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[{"enabled":false,"mfa_delete":false}],"website":[],"website_domain":null,"website_endpoint":null},"after":{"acceleration_status":"","acl":"private","arn":"arn:aws:s3:::cloudrail-firehose-testing-kinesis","bucket":"cloudrail-firehose-testing-kinesis","bucket_domain_name":"cloudrail-firehose-testing-kinesis.s3.amazonaws.com","bucket_prefix":null,"bucket_regional_domain_name":"cloudrail-firehose-testing-kinesis.s3.amazonaws.com","cors_rule":[],"force_destroy":false,"grant":[],"hosted_zone_id":"Z3AQBSTGFYJSTF","id":"cloudrail-firehose-testing-kinesis","lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"policy":null,"region":"us-east-1","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[],"website_domain":null,"website_endpoint":null},"after_unknown":{},"before_sensitive":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[{}],"website":[]},"after_sensitive":{"cors_rule":[],"grant":[],"lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"replication_configuration":[],"server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[],"website":[]}}},{"address":"aws_security_group.nondefault","mode":"managed","type":"aws_security_group","name":"nondefault","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"arn":"arn:aws:ec2:us-east-1:111111111111:security-group/sg-0f5165324b243424b","description":"Managed by Terraform","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-0f5165324b243424b","ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"name":"terraform-20210613132754440200000001","name_prefix":"terraform-","owner_id":"111111111111","revoke_rules_on_delete":false,"tags":{},"tags_all":{},"timeouts":null,"vpc_id":"vpc-0258e9d37eb1732d0"},"after":{"arn":"arn:aws:ec2:us-east-1:111111111111:security-group/sg-0f5165324b243424b","description":"Managed by Terraform","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":null,"to_port":0}],"id":"sg-0f5165324b243424b","ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":null,"from_port":0,"ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_groups":null,"self":null,"to_port":0}],"name":"terraform-20210613132754440200000001","name_prefix":"terraform-","owner_id":"111111111111","revoke_rules_on_delete":false,"tags":{},"tags_all":{},"timeouts":null,"vpc_id":"vpc-0258e9d37eb1732d0"},"after_unknown":{},"before_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}},"after_sensitive":{"egress":[{"cidr_blocks":[false]}],"ingress":[{"cidr_blocks":[false]}],"tags":{},"tags_all":{}}}},{"address":"aws_subnet.nondefault_1","mode":"managed","type":"aws_subnet","name":"nondefault_1","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:us-east-1:111111111111:subnet/subnet-0192d9ec938123fa0","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","availability_zone_id":"use1-az1","cidr_block":"10.1.1.128/25","customer_owned_ipv4_pool":"","id":"subnet-0192d9ec938123fa0","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"111111111111","tags":{},"tags_all":{},"timeouts":null,"vpc_id":"vpc-0258e9d37eb1732d0"},"after":{"arn":"arn:aws:ec2:us-east-1:111111111111:subnet/subnet-0192d9ec938123fa0","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","availability_zone_id":"use1-az1","cidr_block":"10.1.1.128/25","customer_owned_ipv4_pool":"","id":"subnet-0192d9ec938123fa0","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"111111111111","tags":{},"tags_all":{},"timeouts":null,"vpc_id":"vpc-0258e9d37eb1732d0"},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_subnet.nondefault_2","mode":"managed","type":"aws_subnet","name":"nondefault_2","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:us-east-1:111111111111:subnet/subnet-0f53a489a6290f874","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","availability_zone_id":"use1-az2","cidr_block":"10.1.1.0/25","customer_owned_ipv4_pool":"","id":"subnet-0f53a489a6290f874","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"111111111111","tags":{},"tags_all":{},"timeouts":null,"vpc_id":"vpc-0258e9d37eb1732d0"},"after":{"arn":"arn:aws:ec2:us-east-1:111111111111:subnet/subnet-0f53a489a6290f874","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","availability_zone_id":"use1-az2","cidr_block":"10.1.1.0/25","customer_owned_ipv4_pool":"","id":"subnet-0f53a489a6290f874","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"111111111111","tags":{},"tags_all":{},"timeouts":null,"vpc_id":"vpc-0258e9d37eb1732d0"},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_vpc.nondefault","mode":"managed","type":"aws_vpc","name":"nondefault","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:us-east-1:111111111111:vpc/vpc-0258e9d37eb1732d0","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.1.1.0/24","default_network_acl_id":"acl-07a41e2ae2a8d0560","default_route_table_id":"rtb-010160e6acca44089","default_security_group_id":"sg-011520cf8ea26ba42","dhcp_options_id":"dopt-3045214a","enable_classiclink":false,"enable_classiclink_dns_support":false,"enable_dns_hostnames":false,"enable_dns_support":true,"id":"vpc-0258e9d37eb1732d0","instance_tenancy":"default","ipv6_association_id":"","ipv6_cidr_block":"","main_route_table_id":"rtb-010160e6acca44089","owner_id":"111111111111","tags":{},"tags_all":{}},"after":{"arn":"arn:aws:ec2:us-east-1:111111111111:vpc/vpc-0258e9d37eb1732d0","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.1.1.0/24","default_network_acl_id":"acl-07a41e2ae2a8d0560","default_route_table_id":"rtb-010160e6acca44089","default_security_group_id":"sg-011520cf8ea26ba42","dhcp_options_id":"dopt-3045214a","enable_classiclink":false,"enable_classiclink_dns_support":false,"enable_dns_hostnames":false,"enable_dns_support":true,"id":"vpc-0258e9d37eb1732d0","instance_tenancy":"default","ipv6_association_id":"","ipv6_cidr_block":"","main_route_table_id":"rtb-010160e6acca44089","owner_id":"111111111111","tags":{},"tags_all":{}},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}}],"prior_state":{"format_version":"0.1","terraform_version":"0.15.4","values":{"root_module":{"resources":[{"address":"aws_elasticsearch_domain.test_cluster","mode":"managed","type":"aws_elasticsearch_domain","name":"test_cluster","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"access_policies":null,"advanced_options":{"rest.action.multi.allow_explicit_index":"true"},"advanced_security_options":[{"enabled":false,"internal_user_database_enabled":false,"master_user_options":[]}],"arn":"arn:aws:es:us-east-1:111111111111:domain/es-test","cluster_config":[{"dedicated_master_count":0,"dedicated_master_enabled":false,"dedicated_master_type":"","instance_count":2,"instance_type":"t2.small.elasticsearch","warm_count":0,"warm_enabled":false,"warm_type":"","zone_awareness_config":[{"availability_zone_count":2}],"zone_awareness_enabled":true}],"cognito_options":[{"enabled":false,"identity_pool_id":"","role_arn":"","user_pool_id":""}],"domain_endpoint_options":[{"custom_endpoint":"","custom_endpoint_certificate_arn":"","custom_endpoint_enabled":false,"enforce_https":false,"tls_security_policy":"Policy-Min-TLS-1-0-2019-07"}],"domain_id":"111111111111/es-test","domain_name":"es-test","ebs_options":[{"ebs_enabled":true,"iops":0,"volume_size":10,"volume_type":"gp2"}],"elasticsearch_version":"1.5","encrypt_at_rest":[{"enabled":false,"kms_key_id":""}],"endpoint":"vpc-es-test-7kpcepyikw4hpw3qh2pbsizftq.us-east-1.es.amazonaws.com","id":"arn:aws:es:us-east-1:111111111111:domain/es-test","kibana_endpoint":"vpc-es-test-7kpcepyikw4hpw3qh2pbsizftq.us-east-1.es.amazonaws.com/_plugin/kibana/","log_publishing_options":[],"node_to_node_encryption":[{"enabled":false}],"snapshot_options":[{"automated_snapshot_start_hour":0}],"tags":{},"tags_all":{},"timeouts":null,"vpc_options":[{"availability_zones":["us-east-1a","us-east-1b"],"security_group_ids":["sg-0f5165324b243424b"],"subnet_ids":["subnet-0192d9ec938123fa0","subnet-0f53a489a6290f874"],"vpc_id":"vpc-0258e9d37eb1732d0"}]},"depends_on":["aws_security_group.nondefault","aws_subnet.nondefault_1","aws_subnet.nondefault_2","aws_vpc.nondefault"]},{"address":"aws_iam_role.firehose_role","mode":"managed","type":"aws_iam_role","name":"firehose_role","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::111111111111:role/firehose_test_role","assume_role_policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"firehose.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}","create_date":"2021-06-13T13:27:46Z","description":"","force_detach_policies":false,"id":"firehose_test_role","inline_policy":[{"name":"elasticsearch","policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"es:*\"\n      ],\n      \"Resource\": [\n        \"arn:aws:es:us-east-1:111111111111:domain/es-test\",\n        \"arn:aws:es:us-east-1:111111111111:domain/es-test/*\"\n      ]\n        },\n        {\n          \"Effect\": \"Allow\",\n          \"Action\": [\n            \"ec2:DescribeVpcs\",\n            \"ec2:DescribeVpcAttribute\",\n            \"ec2:DescribeSubnets\",\n            \"ec2:DescribeSecurityGroups\",\n            \"ec2:DescribeNetworkInterfaces\",\n            \"ec2:CreateNetworkInterface\",\n            \"ec2:CreateNetworkInterfacePermission\",\n            \"ec2:DeleteNetworkInterface\"\n          ],\n          \"Resource\": [\n            \"*\"\n          ]\n        }\n  ]\n}\n"}],"managed_policy_arns":[],"max_session_duration":3600,"name":"firehose_test_role","name_prefix":null,"path":"/","permissions_boundary":null,"tags":{},"tags_all":{},"unique_id":"AROARVZ4AQRHWHC4KXS7U"}},{"address":"aws_iam_role_policy.firehose-elasticsearch","mode":"managed","type":"aws_iam_role_policy","name":"firehose-elasticsearch","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"firehose_test_role:elasticsearch","name":"elasticsearch","name_prefix":null,"policy":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"es:*\"\n      ],\n      \"Resource\": [\n        \"arn:aws:es:us-east-1:111111111111:domain/es-test\",\n        \"arn:aws:es:us-east-1:111111111111:domain/es-test/*\"\n      ]\n        },\n        {\n          \"Effect\": \"Allow\",\n          \"Action\": [\n            \"ec2:DescribeVpcs\",\n            \"ec2:DescribeVpcAttribute\",\n            \"ec2:DescribeSubnets\",\n            \"ec2:DescribeSecurityGroups\",\n            \"ec2:DescribeNetworkInterfaces\",\n            \"ec2:CreateNetworkInterface\",\n            \"ec2:CreateNetworkInterfacePermission\",\n            \"ec2:DeleteNetworkInterface\"\n          ],\n          \"Resource\": [\n            \"*\"\n          ]\n        }\n  ]\n}\n","role":"firehose_test_role"},"depends_on":["aws_subnet.nondefault_2","aws_vpc.nondefault","aws_elasticsearch_domain.test_cluster","aws_iam_role.firehose_role","aws_security_group.nondefault","aws_subnet.nondefault_1"]},{"address":"aws_internet_gateway.gw","mode":"managed","type":"aws_internet_gateway","name":"gw","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:us-east-1:111111111111:internet-gateway/igw-03addefd4b46c2c4f","id":"igw-03addefd4b46c2c4f","owner_id":"111111111111","tags":{"Name":"main"},"tags_all":{"Name":"main"},"vpc_id":"vpc-0258e9d37eb1732d0"},"depends_on":["aws_vpc.nondefault"]},{"address":"aws_kinesis_firehose_delivery_stream.test","mode":"managed","type":"aws_kinesis_firehose_delivery_stream","name":"test","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:firehose:us-east-1:111111111111:deliverystream/terraform-kinesis-firehose-es","destination":"elasticsearch","destination_id":"destinationId-000000000001","elasticsearch_configuration":[{"buffering_interval":300,"buffering_size":5,"cloudwatch_logging_options":[{"enabled":false,"log_group_name":"","log_stream_name":""}],"cluster_endpoint":"","domain_arn":"arn:aws:es:us-east-1:111111111111:domain/es-test","index_name":"test","index_rotation_period":"OneDay","processing_configuration":[{"enabled":false,"processors":[]}],"retry_duration":300,"role_arn":"arn:aws:iam::111111111111:role/firehose_test_role","s3_backup_mode":"FailedDocumentsOnly","type_name":"test","vpc_config":[{"role_arn":"arn:aws:iam::111111111111:role/firehose_test_role","security_group_ids":["sg-0f5165324b243424b"],"subnet_ids":["subnet-0192d9ec938123fa0","subnet-0f53a489a6290f874"],"vpc_id":"vpc-0258e9d37eb1732d0"}]}],"extended_s3_configuration":[],"http_endpoint_configuration":[],"id":"arn:aws:firehose:us-east-1:111111111111:deliverystream/terraform-kinesis-firehose-es","kinesis_source_configuration":[],"name":"terraform-kinesis-firehose-es","redshift_configuration":[],"s3_configuration":[{"bucket_arn":"arn:aws:s3:::cloudrail-firehose-testing-kinesis","buffer_interval":300,"buffer_size":5,"cloudwatch_logging_options":[{"enabled":false,"log_group_name":"","log_stream_name":""}],"compression_format":"UNCOMPRESSED","kms_key_arn":"","prefix":"","role_arn":"arn:aws:iam::111111111111:role/firehose_test_role"}],"server_side_encryption":[{"enabled":false,"key_arn":"","key_type":"AWS_OWNED_CMK"}],"splunk_configuration":[],"tags":{},"tags_all":{},"version_id":"1"},"depends_on":["aws_security_group.nondefault","aws_subnet.nondefault_1","aws_subnet.nondefault_2","aws_vpc.nondefault","aws_elasticsearch_domain.test_cluster","aws_iam_role.firehose_role","aws_iam_role_policy.firehose-elasticsearch","aws_s3_bucket.bucket"]},{"address":"aws_route_table.public-rtb","mode":"managed","type":"aws_route_table","name":"public-rtb","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:us-east-1:111111111111:route-table/rtb-0e6a52273da6089ef","id":"rtb-0e6a52273da6089ef","owner_id":"111111111111","propagating_vgws":[],"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"igw-03addefd4b46c2c4f","instance_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"public-rtb"},"tags_all":{"Name":"public-rtb"},"vpc_id":"vpc-0258e9d37eb1732d0"},"depends_on":["aws_internet_gateway.gw","aws_vpc.nondefault"]},{"address":"aws_route_table_association.public-rtb-assoc_1","mode":"managed","type":"aws_route_table_association","name":"public-rtb-assoc_1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"id":"rtbassoc-0d4f8956a261c6e5f","route_table_id":"rtb-0e6a52273da6089ef","subnet_id":"subnet-0192d9ec938123fa0"},"depends_on":["aws_vpc.nondefault","aws_internet_gateway.gw","aws_route_table.public-rtb","aws_subnet.nondefault_1"]},{"address":"aws_route_table_association.public-rtb-assoc_2","mode":"managed","type":"aws_route_table_association","name":"public-rtb-assoc_2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":null,"id":"rtbassoc-041caf5e3cd6211f0","route_table_id":"rtb-0e6a52273da6089ef","subnet_id":"subnet-0f53a489a6290f874"},"depends_on":["aws_internet_gateway.gw","aws_route_table.public-rtb","aws_subnet.nondefault_2","aws_vpc.nondefault"]},{"address":"aws_s3_bucket.bucket","mode":"managed","type":"aws_s3_bucket","name":"bucket","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"acceleration_status":"","acl":"private","arn":"arn:aws:s3:::cloudrail-firehose-testing-kinesis","bucket":"cloudrail-firehose-testing-kinesis","bucket_domain_name":"cloudrail-firehose-testing-kinesis.s3.amazonaws.com","bucket_prefix":null,"bucket_regional_domain_name":"cloudrail-firehose-testing-kinesis.s3.amazonaws.com","cors_rule":[],"force_destroy":false,"grant":[],"hosted_zone_id":"Z3AQBSTGFYJSTF","id":"cloudrail-firehose-testing-kinesis","lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"policy":null,"region":"us-east-1","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[],"tags":{},"tags_all":{},"versioning":[{"enabled":false,"mfa_delete":false}],"website":[],"website_domain":null,"website_endpoint":null}},{"address":"aws_security_group.nondefault","mode":"managed","type":"aws_security_group","name":"nondefault","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:111111111111:security-group/sg-0f5165324b243424b","description":"Managed by Terraform","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-0f5165324b243424b","ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"name":"terraform-20210613132754440200000001","name_prefix":"terraform-","owner_id":"111111111111","revoke_rules_on_delete":false,"tags":{},"tags_all":{},"timeouts":null,"vpc_id":"vpc-0258e9d37eb1732d0"},"depends_on":["aws_vpc.nondefault"]},{"address":"aws_subnet.nondefault_1","mode":"managed","type":"aws_subnet","name":"nondefault_1","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:111111111111:subnet/subnet-0192d9ec938123fa0","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","availability_zone_id":"use1-az1","cidr_block":"10.1.1.128/25","customer_owned_ipv4_pool":"","id":"subnet-0192d9ec938123fa0","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"111111111111","tags":{},"tags_all":{},"timeouts":null,"vpc_id":"vpc-0258e9d37eb1732d0"},"depends_on":["aws_vpc.nondefault"]},{"address":"aws_subnet.nondefault_2","mode":"managed","type":"aws_subnet","name":"nondefault_2","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:111111111111:subnet/subnet-0f53a489a6290f874","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1b","availability_zone_id":"use1-az2","cidr_block":"10.1.1.0/25","customer_owned_ipv4_pool":"","id":"subnet-0f53a489a6290f874","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"111111111111","tags":{},"tags_all":{},"timeouts":null,"vpc_id":"vpc-0258e9d37eb1732d0"},"depends_on":["aws_vpc.nondefault"]},{"address":"aws_vpc.nondefault","mode":"managed","type":"aws_vpc","name":"nondefault","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:us-east-1:111111111111:vpc/vpc-0258e9d37eb1732d0","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.1.1.0/24","default_network_acl_id":"acl-07a41e2ae2a8d0560","default_route_table_id":"rtb-010160e6acca44089","default_security_group_id":"sg-011520cf8ea26ba42","dhcp_options_id":"dopt-3045214a","enable_classiclink":false,"enable_classiclink_dns_support":false,"enable_dns_hostnames":false,"enable_dns_support":true,"id":"vpc-0258e9d37eb1732d0","instance_tenancy":"default","ipv6_association_id":"","ipv6_cidr_block":"","main_route_table_id":"rtb-010160e6acca44089","owner_id":"111111111111","tags":{},"tags_all":{}}}]}}},"configuration":{"root_module":{"resources":[{"address":"aws_elasticsearch_domain.test_cluster","mode":"managed","type":"aws_elasticsearch_domain","name":"test_cluster","provider_config_key":"aws","expressions":{"cluster_config":[{"instance_count":{"constant_value":2},"instance_type":{"constant_value":"t2.small.elasticsearch"},"zone_awareness_enabled":{"constant_value":true}}],"domain_name":{"constant_value":"es-test"},"ebs_options":[{"ebs_enabled":{"constant_value":true},"volume_size":{"constant_value":10}}],"vpc_options":[{"security_group_ids":{"references":["aws_security_group.nondefault"]},"subnet_ids":{"references":["aws_subnet.nondefault_1","aws_subnet.nondefault_2"]}}]},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":68,"EndLine":86}},{"address":"aws_iam_role.firehose_role","mode":"managed","type":"aws_iam_role","name":"firehose_role","provider_config_key":"aws","expressions":{"assume_role_policy":{"constant_value":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"firehose.amazonaws.com\"\n      },\n      \"Effect\": \"Allow\",\n      \"Sid\": \"\"\n    }\n  ]\n}\n"},"name":{"constant_value":"firehose_test_role"}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":89,"EndLine":107}},{"address":"aws_iam_role_policy.firehose-elasticsearch","mode":"managed","type":"aws_iam_role_policy","name":"firehose-elasticsearch","provider_config_key":"aws","expressions":{"name":{"constant_value":"elasticsearch"},"policy":{"references":["aws_elasticsearch_domain.test_cluster","aws_elasticsearch_domain.test_cluster"]},"role":{"references":["aws_iam_role.firehose_role"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":109,"EndLine":145}},{"address":"aws_internet_gateway.gw","mode":"managed","type":"aws_internet_gateway","name":"gw","provider_config_key":"aws","expressions":{"tags":{"constant_value":{"Name":"main"}},"vpc_id":{"references":["aws_vpc.nondefault"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":37,"EndLine":43}},{"address":"aws_kinesis_firehose_delivery_stream.test","mode":"managed","type":"aws_kinesis_firehose_delivery_stream","name":"test","provider_config_key":"aws","expressions":{"destination":{"constant_value":"elasticsearch"},"elasticsearch_configuration":[{"domain_arn":{"references":["aws_elasticsearch_domain.test_cluster"]},"index_name":{"constant_value":"test"},"role_arn":{"references":["aws_iam_role.firehose_role"]},"type_name":{"constant_value":"test"},"vpc_config":[{"role_arn":{"references":["aws_iam_role.firehose_role"]},"security_group_ids":{"references":["aws_security_group.nondefault"]},"subnet_ids":{"references":["aws_subnet.nondefault_1","aws_subnet.nondefault_2"]}}]}],"name":{"constant_value":"terraform-kinesis-firehose-es"},"s3_configuration":[{"bucket_arn":{"references":["aws_s3_bucket.bucket"]},"role_arn":{"references":["aws_iam_role.firehose_role"]}}]},"schema_version":1,"depends_on":["aws_iam_role_policy.firehose-elasticsearch"],"raw_data":{"FileName":"main.tf","StartLine":152,"EndLine":173}},{"address":"aws_route_table.public-rtb","mode":"managed","type":"aws_route_table","name":"public-rtb","provider_config_key":"aws","expressions":{"tags":{"constant_value":{"Name":"public-rtb"}},"vpc_id":{"references":["aws_vpc.nondefault"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":45,"EndLine":56}},{"address":"aws_route_table_association.public-rtb-assoc_1","mode":"managed","type":"aws_route_table_association","name":"public-rtb-assoc_1","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.public-rtb"]},"subnet_id":{"references":["aws_subnet.nondefault_1"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":58,"EndLine":61}},{"address":"aws_route_table_association.public-rtb-assoc_2","mode":"managed","type":"aws_route_table_association","name":"public-rtb-assoc_2","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.public-rtb"]},"subnet_id":{"references":["aws_subnet.nondefault_2"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":63,"EndLine":66}},{"address":"aws_s3_bucket.bucket","mode":"managed","type":"aws_s3_bucket","name":"bucket","provider_config_key":"aws","expressions":{"acl":{"constant_value":"private"},"bucket":{"constant_value":"cloudrail-firehose-testing-kinesis"}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":147,"EndLine":150}},{"address":"aws_security_group.nondefault","mode":"managed","type":"aws_security_group","name":"nondefault","provider_config_key":"aws","expressions":{"vpc_id":{"references":["aws_vpc.nondefault"]}},"schema_version":1,"raw_data":{"FileName":"main.tf","StartLine":6,"EndLine":23}},{"address":"aws_subnet.nondefault_1","mode":"managed","type":"aws_subnet","name":"nondefault_1","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"us-east-1a"},"cidr_block":{"constant_value":"10.1.1.128/25"},"vpc_id":{"references":["aws_vpc.nondefault"]}},"schema_version":1,"raw_data":{"FileName":"main.tf","StartLine":25,"EndLine":29}},{"address":"aws_subnet.nondefault_2","mode":"managed","type":"aws_subnet","name":"nondefault_2","provider_config_key":"aws","expressions":{"availability_zone":{"constant_value":"us-east-1b"},"cidr_block":{"constant_value":"10.1.1.0/25"},"vpc_id":{"references":["aws_vpc.nondefault"]}},"schema_version":1,"raw_data":{"FileName":"main.tf","StartLine":31,"EndLine":35}},{"address":"aws_vpc.nondefault","mode":"managed","type":"aws_vpc","name":"nondefault","provider_config_key":"aws","expressions":{"cidr_block":{"constant_value":"10.1.1.0/24"}},"schema_version":1,"raw_data":{"FileName":"main.tf","StartLine":2,"EndLine":4}}]}}}
