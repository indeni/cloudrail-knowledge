{"format_version":"0.1","terraform_version":"0.14.6","variables":{"log_categories":{"value":null}},"planned_values":{"root_module":{"resources":[{"address":"azurerm_iothub.iothub","mode":"managed","type":"azurerm_iothub","name":"iothub","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"endpoint":[{"batch_frequency_in_seconds":60,"connection_string":"azurerm_storage_account.storacc.primary_blob_connection_string","container_name":"examplecontainer","encoding":"Avro","file_name_format":"{iothub}/{partition}_{YYYY}_{MM}_{DD}_{HH}_{mm}","max_chunk_size_in_bytes":10485760,"name":"export","resource_group_name":"cr3685-RG","type":"AzureIotHub.StorageContainer"}],"enrichment":[{"endpoint_names":["export"],"key":"tenant","value":"$twin.tags.Tenant"}],"event_hub_partition_count":2,"event_hub_retention_in_days":1,"fallback_route":[{"condition":"true","enabled":true,"endpoint_names":["export"],"source":"DeviceMessages"}],"file_upload":[{"connection_string":"azurerm_storage_account.storacc.primary_blob_connection_string","container_name":"examplecontainer","default_ttl":"PT1H","lock_duration":"PT1M","max_delivery_count":10,"notifications":false,"sas_ttl":"PT1H"}],"ip_filter_rule":[{"action":"Accept","ip_mask":"10.0.10.0/24","name":"sample"}],"location":"eastus","min_tls_version":"1.2","name":"cr3685-IoTHub","public_network_access_enabled":false,"resource_group_name":"cr3685-RG","route":[{"condition":"true","enabled":true,"endpoint_names":["export"],"name":"export","source":"DeviceMessages"}],"sku":[{"capacity":1,"name":"S1"}],"tags":{"environment":"Production"},"timeouts":null}},{"address":"azurerm_monitor_diagnostic_setting.example","mode":"managed","type":"azurerm_monitor_diagnostic_setting","name":"example","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"eventhub_authorization_rule_id":null,"eventhub_name":null,"log":[{"retention_policy":[{}]}],"log_analytics_destination_type":null,"log_analytics_workspace_id":null,"metric":[{"category":"AllMetrics","enabled":false,"retention_policy":[{"days":null,"enabled":false}]}],"name":"example","storage_account_id":"azurerm_storage_account.storacc.id","target_resource_id":"azurerm_iothub.iothub.id","timeouts":null}},{"address":"azurerm_resource_group.rg","mode":"managed","type":"azurerm_resource_group","name":"rg","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"location":"eastus","name":"cr3685-RG","tags":null,"timeouts":null}},{"address":"azurerm_storage_account.storacc","mode":"managed","type":"azurerm_storage_account","name":"storacc","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":2,"values":{"account_kind":"StorageV2","account_replication_type":"LRS","account_tier":"Standard","allow_blob_public_access":false,"azure_files_authentication":[],"custom_domain":[],"enable_https_traffic_only":true,"is_hns_enabled":false,"location":"eastus","min_tls_version":"TLS1_0","name":"cr3685tststacc","nfsv3_enabled":false,"queue_encryption_key_type":"Service","resource_group_name":"cr3685-RG","shared_access_key_enabled":true,"static_website":[],"table_encryption_key_type":"Service","tags":null,"timeouts":null}},{"address":"azurerm_storage_container.example","mode":"managed","type":"azurerm_storage_container","name":"example","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"container_access_type":"private","name":"examplecontainer","storage_account_name":"cr3685tststacc","timeouts":null}},{"address":"data.azurerm_monitor_diagnostic_categories.main[0]","mode":"data","type":"azurerm_monitor_diagnostic_categories","name":"main","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"resource_id":"azurerm_iothub.iothub.id"}}]}},"resource_changes":[{"address":"azurerm_iothub.iothub","mode":"managed","type":"azurerm_iothub","name":"iothub","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"endpoint":[{"batch_frequency_in_seconds":60,"connection_string":"azurerm_storage_account.storacc.primary_blob_connection_string","container_name":"examplecontainer","encoding":"Avro","file_name_format":"{iothub}/{partition}_{YYYY}_{MM}_{DD}_{HH}_{mm}","max_chunk_size_in_bytes":10485760,"name":"export","resource_group_name":"cr3685-RG","type":"AzureIotHub.StorageContainer"}],"enrichment":[{"endpoint_names":["export"],"key":"tenant","value":"$twin.tags.Tenant"}],"event_hub_partition_count":2,"event_hub_retention_in_days":1,"fallback_route":[{"condition":"true","enabled":true,"endpoint_names":["export"],"source":"DeviceMessages"}],"file_upload":[{"connection_string":"azurerm_storage_account.storacc.primary_blob_connection_string","container_name":"examplecontainer","default_ttl":"PT1H","lock_duration":"PT1M","max_delivery_count":10,"notifications":false,"sas_ttl":"PT1H"}],"ip_filter_rule":[{"action":"Accept","ip_mask":"10.0.10.0/24","name":"sample"}],"location":"eastus","min_tls_version":"1.2","name":"cr3685-IoTHub","public_network_access_enabled":false,"resource_group_name":"cr3685-RG","route":[{"condition":"true","enabled":true,"endpoint_names":["export"],"name":"export","source":"DeviceMessages"}],"sku":[{"capacity":1,"name":"S1"}],"tags":{"environment":"Production"},"timeouts":null},"after_unknown":{"endpoint":[{}],"enrichment":[{"endpoint_names":[false]}],"event_hub_events_endpoint":true,"event_hub_events_path":true,"event_hub_operations_endpoint":true,"event_hub_operations_path":true,"fallback_route":[{"endpoint_names":[false]}],"file_upload":[{}],"hostname":true,"id":true,"ip_filter_rule":[{}],"route":[{"endpoint_names":[false]}],"shared_access_policy":true,"sku":[{}],"tags":{},"type":true}}},{"address":"azurerm_monitor_diagnostic_setting.example","mode":"managed","type":"azurerm_monitor_diagnostic_setting","name":"example","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"eventhub_authorization_rule_id":null,"eventhub_name":null,"log":[{"retention_policy":[{}]}],"log_analytics_destination_type":null,"log_analytics_workspace_id":null,"metric":[{"category":"AllMetrics","enabled":false,"retention_policy":[{"days":null,"enabled":false}]}],"name":"example","storage_account_id":"azurerm_storage_account.storacc.id","target_resource_id":"azurerm_iothub.iothub.id","timeouts":null},"after_unknown":{"id":true,"log":[{"category":true,"enabled":true,"retention_policy":[{"days":true,"enabled":true}]}],"metric":[{"retention_policy":[{}]}]}}},{"address":"azurerm_resource_group.rg","mode":"managed","type":"azurerm_resource_group","name":"rg","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"location":"eastus","name":"cr3685-RG","tags":null,"timeouts":null},"after_unknown":{"id":true}}},{"address":"azurerm_storage_account.storacc","mode":"managed","type":"azurerm_storage_account","name":"storacc","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"account_kind":"StorageV2","account_replication_type":"LRS","account_tier":"Standard","allow_blob_public_access":false,"azure_files_authentication":[],"custom_domain":[],"enable_https_traffic_only":true,"is_hns_enabled":false,"location":"eastus","min_tls_version":"TLS1_0","name":"cr3685tststacc","nfsv3_enabled":false,"queue_encryption_key_type":"Service","resource_group_name":"cr3685-RG","shared_access_key_enabled":true,"static_website":[],"table_encryption_key_type":"Service","tags":null,"timeouts":null},"after_unknown":{"access_tier":true,"azure_files_authentication":[],"blob_properties":true,"custom_domain":[],"id":true,"identity":true,"large_file_share_enabled":true,"network_rules":true,"primary_access_key":true,"primary_blob_connection_string":true,"primary_blob_endpoint":true,"primary_blob_host":true,"primary_connection_string":true,"primary_dfs_endpoint":true,"primary_dfs_host":true,"primary_file_endpoint":true,"primary_file_host":true,"primary_location":true,"primary_queue_endpoint":true,"primary_queue_host":true,"primary_table_endpoint":true,"primary_table_host":true,"primary_web_endpoint":true,"primary_web_host":true,"queue_properties":true,"routing":true,"secondary_access_key":true,"secondary_blob_connection_string":true,"secondary_blob_endpoint":true,"secondary_blob_host":true,"secondary_connection_string":true,"secondary_dfs_endpoint":true,"secondary_dfs_host":true,"secondary_file_endpoint":true,"secondary_file_host":true,"secondary_location":true,"secondary_queue_endpoint":true,"secondary_queue_host":true,"secondary_table_endpoint":true,"secondary_table_host":true,"secondary_web_endpoint":true,"secondary_web_host":true,"share_properties":true,"static_website":[]}}},{"address":"azurerm_storage_container.example","mode":"managed","type":"azurerm_storage_container","name":"example","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"container_access_type":"private","name":"examplecontainer","storage_account_name":"cr3685tststacc","timeouts":null},"after_unknown":{"has_immutability_policy":true,"has_legal_hold":true,"id":true,"metadata":true,"resource_manager_id":true}}},{"address":"data.azurerm_monitor_diagnostic_categories.main[0]","mode":"data","type":"azurerm_monitor_diagnostic_categories","name":"main","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["read"],"before":null,"after":{"resource_id":"azurerm_iothub.iothub.id"},"after_unknown":{"id":true,"logs":true,"metrics":true,"timeouts":true}}}],"configuration":{"provider_config":{"azurerm":{"name":"azurerm","expressions":{"features":[{}]}}},"root_module":{"resources":[{"address":"azurerm_iothub.iothub","mode":"managed","type":"azurerm_iothub","name":"iothub","provider_config_key":"azurerm","expressions":{"event_hub_partition_count":{"constant_value":2},"event_hub_retention_in_days":{"constant_value":1},"fallback_route":[{"condition":{"constant_value":"true"},"enabled":{"constant_value":true},"endpoint_names":{"constant_value":["export"]},"source":{"constant_value":"DeviceMessages"}}],"file_upload":[{"connection_string":{"references":["azurerm_storage_account.storacc"]},"container_name":{"references":["azurerm_storage_container.example"]},"default_ttl":{"constant_value":"PT1H"},"lock_duration":{"constant_value":"PT1M"},"max_delivery_count":{"constant_value":10},"notifications":{"constant_value":false},"sas_ttl":{"constant_value":"PT1H"}}],"ip_filter_rule":[{"action":{"constant_value":"Accept"},"ip_mask":{"constant_value":"10.0.10.0/24"},"name":{"constant_value":"sample"}}],"location":{"references":["azurerm_resource_group.rg"]},"min_tls_version":{"constant_value":"1.2"},"name":{"references":["local.resource_prefix"]},"public_network_access_enabled":{"constant_value":false},"resource_group_name":{"references":["azurerm_resource_group.rg"]},"sku":[{"capacity":{"constant_value":"1"},"name":{"constant_value":"S1"}}],"tags":{"constant_value":{"environment":"Production"}}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":28,"EndLine":97}},{"address":"azurerm_monitor_diagnostic_setting.example","mode":"managed","type":"azurerm_monitor_diagnostic_setting","name":"example","provider_config_key":"azurerm","expressions":{"metric":[{"category":{"constant_value":"AllMetrics"},"enabled":{"constant_value":false},"retention_policy":[{"enabled":{"constant_value":false}}]}],"name":{"constant_value":"example"},"storage_account_id":{"references":["azurerm_storage_account.storacc"]},"target_resource_id":{"references":["azurerm_iothub.iothub"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":126,"EndLine":152}},{"address":"azurerm_resource_group.rg","mode":"managed","type":"azurerm_resource_group","name":"rg","provider_config_key":"azurerm","expressions":{"location":{"constant_value":"eastus"},"name":{"references":["local.resource_prefix"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":9,"EndLine":12}},{"address":"azurerm_storage_account.storacc","mode":"managed","type":"azurerm_storage_account","name":"storacc","provider_config_key":"azurerm","expressions":{"account_replication_type":{"constant_value":"LRS"},"account_tier":{"constant_value":"Standard"},"location":{"references":["azurerm_resource_group.rg"]},"name":{"references":["local.resource_prefix"]},"resource_group_name":{"references":["azurerm_resource_group.rg"]}},"schema_version":2,"raw_data":{"FileName":"main.tf","StartLine":14,"EndLine":20}},{"address":"azurerm_storage_container.example","mode":"managed","type":"azurerm_storage_container","name":"example","provider_config_key":"azurerm","expressions":{"container_access_type":{"constant_value":"private"},"name":{"constant_value":"examplecontainer"},"storage_account_name":{"references":["azurerm_storage_account.storacc"]}},"schema_version":1,"raw_data":{"FileName":"main.tf","StartLine":22,"EndLine":26}},{"address":"data.azurerm_monitor_diagnostic_categories.main","mode":"data","type":"azurerm_monitor_diagnostic_categories","name":"main","provider_config_key":"azurerm","expressions":{"resource_id":{"references":["azurerm_iothub.iothub"]}},"schema_version":0,"count_expression":{"references":["local.enabled"]},"raw_data":{"FileName":"main.tf","StartLine":99,"EndLine":102}}],"variables":{"log_categories":{"default":null,"description":"List of log categories."}}}}}
