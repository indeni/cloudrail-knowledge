{"format_version":"0.1","terraform_version":"0.14.6","planned_values":{"root_module":{"resources":[{"address":"azurerm_batch_account.test","mode":"managed","type":"azurerm_batch_account","name":"test","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"identity":[],"key_vault_reference":[{"id":"azurerm_key_vault.test.id","url":"azurerm_key_vault.test.vault_uri"}],"location":"westeurope","name":"cloudrailtestbatchacc","pool_allocation_mode":"UserSubscription","public_network_access_enabled":false,"resource_group_name":"cloudrailtest-rg","storage_account_id":"azurerm_storage_account.test.id","tags":{"env":"test"},"timeouts":null}},{"address":"azurerm_key_vault.test","mode":"managed","type":"azurerm_key_vault","name":"test","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":2,"values":{"access_policy":[{"application_id":null,"certificate_permissions":null,"key_permissions":null,"object_id":"dc3965ff-66fb-4b7c-8c9b-c2bab587cc66","secret_permissions":["get","list","set","delete","recover"],"storage_permissions":null,"tenant_id":"568db8f3-e402-4c09-baa9-692e42029cc7"}],"contact":[],"enable_rbac_authorization":null,"enabled_for_deployment":true,"enabled_for_disk_encryption":true,"enabled_for_template_deployment":true,"location":"westeurope","name":"cloudrailtestkeyvault","purge_protection_enabled":false,"resource_group_name":"cloudrailtest-rg","sku_name":"standard","soft_delete_retention_days":7,"tags":null,"tenant_id":"568db8f3-e402-4c09-baa9-692e42029cc7","timeouts":null}},{"address":"azurerm_monitor_diagnostic_setting.diag1","mode":"managed","type":"azurerm_monitor_diagnostic_setting","name":"diag1","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"eventhub_authorization_rule_id":null,"eventhub_name":null,"log":[{"category":"ServiceLog","enabled":true,"retention_policy":[{"days":0,"enabled":true}]}],"log_analytics_destination_type":null,"log_analytics_workspace_id":null,"metric":[],"name":"batchaccdiag","storage_account_id":"azurerm_storage_account.test.id","target_resource_id":"azurerm_batch_account.test.id","timeouts":null}},{"address":"azurerm_resource_group.test","mode":"managed","type":"azurerm_resource_group","name":"test","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"location":"westeurope","name":"cloudrailtest-rg","tags":null,"timeouts":null}},{"address":"azurerm_role_assignment.contributor","mode":"managed","type":"azurerm_role_assignment","name":"contributor","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"condition":null,"condition_version":null,"delegated_managed_identity_resource_id":null,"description":null,"principal_id":"dc3965ff-66fb-4b7c-8c9b-c2bab587cc66","role_definition_name":"Contributor","scope":"/subscriptions/230613d8-3b34-4790-b650-36f31045f19a","timeouts":null}},{"address":"azurerm_storage_account.test","mode":"managed","type":"azurerm_storage_account","name":"test","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":2,"values":{"account_kind":"StorageV2","account_replication_type":"LRS","account_tier":"Standard","allow_blob_public_access":false,"azure_files_authentication":[],"custom_domain":[],"enable_https_traffic_only":true,"is_hns_enabled":false,"location":"westeurope","min_tls_version":"TLS1_0","name":"cloudrailteststorageacc","nfsv3_enabled":false,"queue_encryption_key_type":"Service","resource_group_name":"cloudrailtest-rg","shared_access_key_enabled":true,"static_website":[],"table_encryption_key_type":"Service","tags":null,"timeouts":null}}]}},"resource_changes":[{"address":"azurerm_batch_account.test","mode":"managed","type":"azurerm_batch_account","name":"test","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"identity":[],"key_vault_reference":[{"id":"azurerm_key_vault.test.id","url":"azurerm_key_vault.test.vault_uri"}],"location":"westeurope","name":"cloudrailtestbatchacc","pool_allocation_mode":"UserSubscription","public_network_access_enabled":false,"resource_group_name":"cloudrailtest-rg","storage_account_id":"azurerm_storage_account.test.id","tags":{"env":"test"},"timeouts":null},"after_unknown":{"account_endpoint":true,"id":true,"identity":[],"key_vault_reference":[{}],"primary_access_key":true,"secondary_access_key":true,"tags":{}}}},{"address":"azurerm_key_vault.test","mode":"managed","type":"azurerm_key_vault","name":"test","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"access_policy":[{"application_id":null,"certificate_permissions":null,"key_permissions":null,"object_id":"dc3965ff-66fb-4b7c-8c9b-c2bab587cc66","secret_permissions":["get","list","set","delete","recover"],"storage_permissions":null,"tenant_id":"568db8f3-e402-4c09-baa9-692e42029cc7"}],"contact":[],"enable_rbac_authorization":null,"enabled_for_deployment":true,"enabled_for_disk_encryption":true,"enabled_for_template_deployment":true,"location":"westeurope","name":"cloudrailtestkeyvault","purge_protection_enabled":false,"resource_group_name":"cloudrailtest-rg","sku_name":"standard","soft_delete_retention_days":7,"tags":null,"tenant_id":"568db8f3-e402-4c09-baa9-692e42029cc7","timeouts":null},"after_unknown":{"access_policy":[{"secret_permissions":[false,false,false,false,false]}],"contact":[],"id":true,"network_acls":true,"soft_delete_enabled":true,"vault_uri":true}}},{"address":"azurerm_monitor_diagnostic_setting.diag1","mode":"managed","type":"azurerm_monitor_diagnostic_setting","name":"diag1","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"eventhub_authorization_rule_id":null,"eventhub_name":null,"log":[{"category":"ServiceLog","enabled":true,"retention_policy":[{"days":0,"enabled":true}]}],"log_analytics_destination_type":null,"log_analytics_workspace_id":null,"metric":[],"name":"batchaccdiag","storage_account_id":"azurerm_storage_account.test.id","target_resource_id":"azurerm_batch_account.test.id","timeouts":null},"after_unknown":{"id":true,"log":[{"retention_policy":[{}]}],"metric":[]}}},{"address":"azurerm_resource_group.test","mode":"managed","type":"azurerm_resource_group","name":"test","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"location":"westeurope","name":"cloudrailtest-rg","tags":null,"timeouts":null},"after_unknown":{"id":true}}},{"address":"azurerm_role_assignment.contributor","mode":"managed","type":"azurerm_role_assignment","name":"contributor","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"condition":null,"condition_version":null,"delegated_managed_identity_resource_id":null,"description":null,"principal_id":"dc3965ff-66fb-4b7c-8c9b-c2bab587cc66","role_definition_name":"Contributor","scope":"/subscriptions/230613d8-3b34-4790-b650-36f31045f19a","timeouts":null},"after_unknown":{"id":true,"name":true,"principal_type":true,"role_definition_id":true,"skip_service_principal_aad_check":true}}},{"address":"azurerm_storage_account.test","mode":"managed","type":"azurerm_storage_account","name":"test","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"account_kind":"StorageV2","account_replication_type":"LRS","account_tier":"Standard","allow_blob_public_access":false,"azure_files_authentication":[],"custom_domain":[],"enable_https_traffic_only":true,"is_hns_enabled":false,"location":"westeurope","min_tls_version":"TLS1_0","name":"cloudrailteststorageacc","nfsv3_enabled":false,"queue_encryption_key_type":"Service","resource_group_name":"cloudrailtest-rg","shared_access_key_enabled":true,"static_website":[],"table_encryption_key_type":"Service","tags":null,"timeouts":null},"after_unknown":{"access_tier":true,"azure_files_authentication":[],"blob_properties":true,"custom_domain":[],"id":true,"identity":true,"large_file_share_enabled":true,"network_rules":true,"primary_access_key":true,"primary_blob_connection_string":true,"primary_blob_endpoint":true,"primary_blob_host":true,"primary_connection_string":true,"primary_dfs_endpoint":true,"primary_dfs_host":true,"primary_file_endpoint":true,"primary_file_host":true,"primary_location":true,"primary_queue_endpoint":true,"primary_queue_host":true,"primary_table_endpoint":true,"primary_table_host":true,"primary_web_endpoint":true,"primary_web_host":true,"queue_properties":true,"routing":true,"secondary_access_key":true,"secondary_blob_connection_string":true,"secondary_blob_endpoint":true,"secondary_blob_host":true,"secondary_connection_string":true,"secondary_dfs_endpoint":true,"secondary_dfs_host":true,"secondary_file_endpoint":true,"secondary_file_host":true,"secondary_location":true,"secondary_queue_endpoint":true,"secondary_queue_host":true,"secondary_table_endpoint":true,"secondary_table_host":true,"secondary_web_endpoint":true,"secondary_web_host":true,"share_properties":true,"static_website":[]}}}],"prior_state":{"format_version":"0.1","terraform_version":"1.0.3","values":{"root_module":{"resources":[{"address":"data.azuread_service_principal.mab","mode":"data","type":"azuread_service_principal","name":"mab","provider_name":"registry.terraform.io/hashicorp/azuread","schema_version":0,"values":{"account_enabled":true,"alternative_names":[],"app_role_assignment_required":false,"app_role_ids":{},"app_roles":[],"application_id":"ddbf3205-c6bd-46ae-8127-60eb93363864","application_tenant_id":"f8cdef31-a31e-4b4a-93e4-5f571e91255a","description":"","display_name":"Microsoft Azure Batch","feature_tags":[{"custom_single_sign_on":false,"enterprise":false,"gallery":false,"hide":false}],"features":[{"custom_single_sign_on_app":false,"enterprise_application":false,"gallery_application":false,"visible_to_users":true}],"homepage_url":"","id":"dc3965ff-66fb-4b7c-8c9b-c2bab587cc66","login_url":"","logout_url":"","notes":"","notification_email_addresses":[],"oauth2_permission_scope_ids":{"user_impersonation":"635ced16-958c-4230-8508-ac2c509d94c6"},"oauth2_permission_scopes":[{"admin_consent_description":"Allow the application to access the Azure Batch Service API on behalf of the signed-in user.","admin_consent_display_name":"Access Azure Batch Service","enabled":true,"id":"635ced16-958c-4230-8508-ac2c509d94c6","type":"User","user_consent_description":"Allow the application to access all Azure Batch Service functionality on your behalf.","user_consent_display_name":"Full access to Azure Batch Service API","value":"user_impersonation"}],"object_id":"dc3965ff-66fb-4b7c-8c9b-c2bab587cc66","preferred_single_sign_on_mode":"","redirect_uris":["https://batch.core.windows.net/"],"saml_metadata_url":"","saml_single_sign_on":[],"service_principal_names":["https://batch.core.windows.net/"],"sign_in_audience":"AzureADMultipleOrgs","tags":[],"timeouts":null,"type":"Application"}},{"address":"data.azurerm_client_config.current","mode":"data","type":"azurerm_client_config","name":"current","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"client_id":"04b07795-8ddb-461a-bbee-02f9e1bf7b46","id":"2021-12-12 09:08:58.188976 +0000 UTC","object_id":"ddc8b952-aa8e-4ae1-aa42-0dfdf4f15db3","subscription_id":"230613d8-3b34-4790-b650-36f31045f19a","tenant_id":"568db8f3-e402-4c09-baa9-692e42029cc7","timeouts":null}},{"address":"data.azurerm_subscription.primary","mode":"data","type":"azurerm_subscription","name":"primary","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"display_name":"dev_alon","id":"/subscriptions/230613d8-3b34-4790-b650-36f31045f19a","location_placement_id":"Public_2014-09-01","quota_id":"Sponsored_2016-01-01","spending_limit":"Off","state":"Enabled","subscription_id":"230613d8-3b34-4790-b650-36f31045f19a","tags":{},"tenant_id":"568db8f3-e402-4c09-baa9-692e42029cc7","timeouts":null}}]}}},"configuration":{"provider_config":{"azurerm":{"name":"azurerm","expressions":{"features":[{}]}}},"root_module":{"resources":[{"address":"azurerm_batch_account.test","mode":"managed","type":"azurerm_batch_account","name":"test","provider_config_key":"azurerm","expressions":{"key_vault_reference":[{"id":{"references":["azurerm_key_vault.test"]},"url":{"references":["azurerm_key_vault.test"]}}],"location":{"references":["azurerm_resource_group.test"]},"name":{"references":["local.name"]},"pool_allocation_mode":{"constant_value":"UserSubscription"},"public_network_access_enabled":{"constant_value":false},"resource_group_name":{"references":["azurerm_resource_group.test"]},"storage_account_id":{"references":["azurerm_storage_account.test"]},"tags":{"constant_value":{"env":"test"}}},"schema_version":0,"depends_on":["azurerm_role_assignment.contributor"],"raw_data":{"FileName":"main.tf","StartLine":56,"EndLine":76}},{"address":"azurerm_key_vault.test","mode":"managed","type":"azurerm_key_vault","name":"test","provider_config_key":"azurerm","expressions":{"enabled_for_deployment":{"constant_value":true},"enabled_for_disk_encryption":{"constant_value":true},"enabled_for_template_deployment":{"constant_value":true},"location":{"references":["azurerm_resource_group.test"]},"name":{"references":["local.name"]},"purge_protection_enabled":{"constant_value":false},"resource_group_name":{"references":["azurerm_resource_group.test"]},"sku_name":{"constant_value":"standard"},"soft_delete_retention_days":{"constant_value":7},"tenant_id":{"references":["data.azurerm_client_config.current"]}},"schema_version":2,"raw_data":{"FileName":"main.tf","StartLine":30,"EndLine":54}},{"address":"azurerm_monitor_diagnostic_setting.diag1","mode":"managed","type":"azurerm_monitor_diagnostic_setting","name":"diag1","provider_config_key":"azurerm","expressions":{"log":[{"category":{"constant_value":"ServiceLog"},"enabled":{"constant_value":true},"retention_policy":[{"days":{"constant_value":0},"enabled":{"constant_value":true}}]}],"name":{"constant_value":"batchaccdiag"},"storage_account_id":{"references":["azurerm_storage_account.test"]},"target_resource_id":{"references":["azurerm_batch_account.test"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":84,"EndLine":98}},{"address":"azurerm_resource_group.test","mode":"managed","type":"azurerm_resource_group","name":"test","provider_config_key":"azurerm","expressions":{"location":{"constant_value":"West Europe"},"name":{"references":["local.name"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":17,"EndLine":20}},{"address":"azurerm_role_assignment.contributor","mode":"managed","type":"azurerm_role_assignment","name":"contributor","provider_config_key":"azurerm","expressions":{"principal_id":{"references":["data.azuread_service_principal.mab"]},"role_definition_name":{"constant_value":"Contributor"},"scope":{"references":["data.azurerm_subscription.primary"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":78,"EndLine":82}},{"address":"azurerm_storage_account.test","mode":"managed","type":"azurerm_storage_account","name":"test","provider_config_key":"azurerm","expressions":{"account_replication_type":{"constant_value":"LRS"},"account_tier":{"constant_value":"Standard"},"location":{"references":["azurerm_resource_group.test"]},"name":{"references":["local.name"]},"resource_group_name":{"references":["azurerm_resource_group.test"]}},"schema_version":2,"raw_data":{"FileName":"main.tf","StartLine":22,"EndLine":28}},{"address":"data.azuread_service_principal.mab","mode":"data","type":"azuread_service_principal","name":"mab","provider_config_key":"azuread","expressions":{"display_name":{"constant_value":"Microsoft Azure Batch"}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":13,"EndLine":15}},{"address":"data.azurerm_client_config.current","mode":"data","type":"azurerm_client_config","name":"current","provider_config_key":"azurerm","schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":9,"EndLine":9}},{"address":"data.azurerm_subscription.primary","mode":"data","type":"azurerm_subscription","name":"primary","provider_config_key":"azurerm","schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":11,"EndLine":11}}]}}}
