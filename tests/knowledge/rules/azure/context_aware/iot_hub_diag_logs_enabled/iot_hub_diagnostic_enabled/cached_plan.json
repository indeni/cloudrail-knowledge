{"format_version":"0.1","terraform_version":"0.14.6","variables":{"log_categories":{"value":null}},"planned_values":{"root_module":{"resources":[{"address":"azurerm_eventhub.eventhub","mode":"managed","type":"azurerm_eventhub","name":"eventhub","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"capture_description":[],"message_retention":1,"name":"cr2387-eventhub","namespace_name":"cr2387eventhubnamespace","partition_count":2,"resource_group_name":"cr2387-RG","status":"Active","timeouts":null}},{"address":"azurerm_eventhub_authorization_rule.example","mode":"managed","type":"azurerm_eventhub_authorization_rule","name":"example","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"eventhub_name":"cr2387-eventhub","listen":false,"manage":false,"name":"authrule1","namespace_name":"cr2387eventhubnamespace","resource_group_name":"cr2387-RG","send":true,"timeouts":null}},{"address":"azurerm_eventhub_namespace.example","mode":"managed","type":"azurerm_eventhub_namespace","name":"example","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"auto_inflate_enabled":false,"capacity":1,"dedicated_cluster_id":null,"identity":[],"location":"westeurope","name":"cr2387eventhubnamespace","resource_group_name":"cr2387-RG","sku":"Basic","tags":null,"timeouts":null,"zone_redundant":false}},{"address":"azurerm_iothub.iothub","mode":"managed","type":"azurerm_iothub","name":"iothub","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"endpoint":[{"batch_frequency_in_seconds":60,"connection_string":"azurerm_storage_account.storacc.primary_blob_connection_string","container_name":"examplecontainer","encoding":"Avro","file_name_format":"{iothub}/{partition}_{YYYY}_{MM}_{DD}_{HH}_{mm}","max_chunk_size_in_bytes":10485760,"name":"export","resource_group_name":null,"type":"AzureIotHub.StorageContainer"},{"batch_frequency_in_seconds":null,"connection_string":"azurerm_eventhub_authorization_rule.example.primary_connection_string","container_name":null,"encoding":null,"file_name_format":null,"max_chunk_size_in_bytes":null,"name":"export2","resource_group_name":null,"type":"AzureIotHub.EventHub"}],"enrichment":[{"endpoint_names":["export","export2"],"key":"tenant","value":"$twin.tags.Tenant"}],"file_upload":[],"ip_filter_rule":[],"location":"westeurope","min_tls_version":null,"name":"cr2387-IoTHub","public_network_access_enabled":null,"resource_group_name":"cr2387-RG","route":[{"condition":"true","enabled":true,"endpoint_names":["export"],"name":"export","source":"DeviceMessages"},{"condition":"true","enabled":true,"endpoint_names":["export2"],"name":"export2","source":"DeviceMessages"}],"sku":[{"capacity":1,"name":"S1"}],"tags":null,"timeouts":null}},{"address":"azurerm_monitor_diagnostic_setting.example","mode":"managed","type":"azurerm_monitor_diagnostic_setting","name":"example","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"eventhub_authorization_rule_id":null,"eventhub_name":null,"log":[{"category":"AuditEvent","enabled":true,"retention_policy":[{"days":400,"enabled":true}]}],"log_analytics_destination_type":null,"log_analytics_workspace_id":null,"metric":[{"category":"AllMetrics","enabled":false,"retention_policy":[{"days":null,"enabled":false}]}],"name":"example","storage_account_id":"azurerm_storage_account.storacc.id","target_resource_id":"azurerm_iothub.iothub.id","timeouts":null}},{"address":"azurerm_resource_group.rg","mode":"managed","type":"azurerm_resource_group","name":"rg","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"location":"westeurope","name":"cr2387-RG","tags":null,"timeouts":null}},{"address":"azurerm_storage_account.storacc","mode":"managed","type":"azurerm_storage_account","name":"storacc","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":2,"values":{"account_kind":"StorageV2","account_replication_type":"LRS","account_tier":"Standard","allow_blob_public_access":false,"azure_files_authentication":[],"custom_domain":[],"enable_https_traffic_only":true,"is_hns_enabled":false,"location":"westeurope","min_tls_version":"TLS1_0","name":"cr2387tststacc","nfsv3_enabled":false,"queue_encryption_key_type":"Service","resource_group_name":"cr2387-RG","shared_access_key_enabled":true,"static_website":[],"table_encryption_key_type":"Service","tags":null,"timeouts":null}},{"address":"azurerm_storage_container.example","mode":"managed","type":"azurerm_storage_container","name":"example","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"container_access_type":"private","name":"examplecontainer","storage_account_name":"cr2387tststacc","timeouts":null}},{"address":"data.azurerm_monitor_diagnostic_categories.main[0]","mode":"data","type":"azurerm_monitor_diagnostic_categories","name":"main","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"resource_id":"azurerm_iothub.iothub.id"}}]}},"resource_changes":[{"address":"azurerm_eventhub.eventhub","mode":"managed","type":"azurerm_eventhub","name":"eventhub","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"capture_description":[],"message_retention":1,"name":"cr2387-eventhub","namespace_name":"cr2387eventhubnamespace","partition_count":2,"resource_group_name":"cr2387-RG","status":"Active","timeouts":null},"after_unknown":{"capture_description":[],"id":true,"partition_ids":true}}},{"address":"azurerm_eventhub_authorization_rule.example","mode":"managed","type":"azurerm_eventhub_authorization_rule","name":"example","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"eventhub_name":"cr2387-eventhub","listen":false,"manage":false,"name":"authrule1","namespace_name":"cr2387eventhubnamespace","resource_group_name":"cr2387-RG","send":true,"timeouts":null},"after_unknown":{"id":true,"primary_connection_string":true,"primary_connection_string_alias":true,"primary_key":true,"secondary_connection_string":true,"secondary_connection_string_alias":true,"secondary_key":true}}},{"address":"azurerm_eventhub_namespace.example","mode":"managed","type":"azurerm_eventhub_namespace","name":"example","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"auto_inflate_enabled":false,"capacity":1,"dedicated_cluster_id":null,"identity":[],"location":"westeurope","name":"cr2387eventhubnamespace","resource_group_name":"cr2387-RG","sku":"Basic","tags":null,"timeouts":null,"zone_redundant":false},"after_unknown":{"default_primary_connection_string":true,"default_primary_connection_string_alias":true,"default_primary_key":true,"default_secondary_connection_string":true,"default_secondary_connection_string_alias":true,"default_secondary_key":true,"id":true,"identity":[],"maximum_throughput_units":true,"network_rulesets":true}}},{"address":"azurerm_iothub.iothub","mode":"managed","type":"azurerm_iothub","name":"iothub","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"endpoint":[{"batch_frequency_in_seconds":60,"connection_string":"azurerm_storage_account.storacc.primary_blob_connection_string","container_name":"examplecontainer","encoding":"Avro","file_name_format":"{iothub}/{partition}_{YYYY}_{MM}_{DD}_{HH}_{mm}","max_chunk_size_in_bytes":10485760,"name":"export","resource_group_name":null,"type":"AzureIotHub.StorageContainer"},{"batch_frequency_in_seconds":null,"connection_string":"azurerm_eventhub_authorization_rule.example.primary_connection_string","container_name":null,"encoding":null,"file_name_format":null,"max_chunk_size_in_bytes":null,"name":"export2","resource_group_name":null,"type":"AzureIotHub.EventHub"}],"enrichment":[{"endpoint_names":["export","export2"],"key":"tenant","value":"$twin.tags.Tenant"}],"file_upload":[],"ip_filter_rule":[],"location":"westeurope","min_tls_version":null,"name":"cr2387-IoTHub","public_network_access_enabled":null,"resource_group_name":"cr2387-RG","route":[{"condition":"true","enabled":true,"endpoint_names":["export"],"name":"export","source":"DeviceMessages"},{"condition":"true","enabled":true,"endpoint_names":["export2"],"name":"export2","source":"DeviceMessages"}],"sku":[{"capacity":1,"name":"S1"}],"tags":null,"timeouts":null},"after_unknown":{"endpoint":[{},{}],"enrichment":[{"endpoint_names":[false,false]}],"event_hub_events_endpoint":true,"event_hub_events_path":true,"event_hub_operations_endpoint":true,"event_hub_operations_path":true,"event_hub_partition_count":true,"event_hub_retention_in_days":true,"fallback_route":true,"file_upload":[],"hostname":true,"id":true,"ip_filter_rule":[],"route":[{"endpoint_names":[false]},{"endpoint_names":[false]}],"shared_access_policy":true,"sku":[{}],"type":true}}},{"address":"azurerm_monitor_diagnostic_setting.example","mode":"managed","type":"azurerm_monitor_diagnostic_setting","name":"example","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"eventhub_authorization_rule_id":null,"eventhub_name":null,"log":[{"category":"AuditEvent","enabled":true,"retention_policy":[{"days":400,"enabled":true}]}],"log_analytics_destination_type":null,"log_analytics_workspace_id":null,"metric":[{"category":"AllMetrics","enabled":false,"retention_policy":[{"days":null,"enabled":false}]}],"name":"example","storage_account_id":"azurerm_storage_account.storacc.id","target_resource_id":"azurerm_iothub.iothub.id","timeouts":null},"after_unknown":{"id":true,"log":[{"retention_policy":[{}]}],"metric":[{"retention_policy":[{}]}]}}},{"address":"azurerm_resource_group.rg","mode":"managed","type":"azurerm_resource_group","name":"rg","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"location":"westeurope","name":"cr2387-RG","tags":null,"timeouts":null},"after_unknown":{"id":true}}},{"address":"azurerm_storage_account.storacc","mode":"managed","type":"azurerm_storage_account","name":"storacc","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"account_kind":"StorageV2","account_replication_type":"LRS","account_tier":"Standard","allow_blob_public_access":false,"azure_files_authentication":[],"custom_domain":[],"enable_https_traffic_only":true,"is_hns_enabled":false,"location":"westeurope","min_tls_version":"TLS1_0","name":"cr2387tststacc","nfsv3_enabled":false,"queue_encryption_key_type":"Service","resource_group_name":"cr2387-RG","shared_access_key_enabled":true,"static_website":[],"table_encryption_key_type":"Service","tags":null,"timeouts":null},"after_unknown":{"access_tier":true,"azure_files_authentication":[],"blob_properties":true,"custom_domain":[],"id":true,"identity":true,"large_file_share_enabled":true,"network_rules":true,"primary_access_key":true,"primary_blob_connection_string":true,"primary_blob_endpoint":true,"primary_blob_host":true,"primary_connection_string":true,"primary_dfs_endpoint":true,"primary_dfs_host":true,"primary_file_endpoint":true,"primary_file_host":true,"primary_location":true,"primary_queue_endpoint":true,"primary_queue_host":true,"primary_table_endpoint":true,"primary_table_host":true,"primary_web_endpoint":true,"primary_web_host":true,"queue_properties":true,"routing":true,"secondary_access_key":true,"secondary_blob_connection_string":true,"secondary_blob_endpoint":true,"secondary_blob_host":true,"secondary_connection_string":true,"secondary_dfs_endpoint":true,"secondary_dfs_host":true,"secondary_file_endpoint":true,"secondary_file_host":true,"secondary_location":true,"secondary_queue_endpoint":true,"secondary_queue_host":true,"secondary_table_endpoint":true,"secondary_table_host":true,"secondary_web_endpoint":true,"secondary_web_host":true,"share_properties":true,"static_website":[]}}},{"address":"azurerm_storage_container.example","mode":"managed","type":"azurerm_storage_container","name":"example","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"container_access_type":"private","name":"examplecontainer","storage_account_name":"cr2387tststacc","timeouts":null},"after_unknown":{"has_immutability_policy":true,"has_legal_hold":true,"id":true,"metadata":true,"resource_manager_id":true}}},{"address":"data.azurerm_monitor_diagnostic_categories.main[0]","mode":"data","type":"azurerm_monitor_diagnostic_categories","name":"main","index":0,"provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["read"],"before":null,"after":{"resource_id":"azurerm_iothub.iothub.id"},"after_unknown":{"id":true,"logs":true,"metrics":true,"timeouts":true}}}],"configuration":{"provider_config":{"azurerm":{"name":"azurerm","expressions":{"features":[{}]}}},"root_module":{"resources":[{"address":"azurerm_eventhub.eventhub","mode":"managed","type":"azurerm_eventhub","name":"eventhub","provider_config_key":"azurerm","expressions":{"message_retention":{"constant_value":1},"name":{"references":["local.resource_prefix"]},"namespace_name":{"references":["azurerm_eventhub_namespace.example"]},"partition_count":{"constant_value":2},"resource_group_name":{"references":["azurerm_resource_group.rg"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":37,"EndLine":43}},{"address":"azurerm_eventhub_authorization_rule.example","mode":"managed","type":"azurerm_eventhub_authorization_rule","name":"example","provider_config_key":"azurerm","expressions":{"eventhub_name":{"references":["azurerm_eventhub.eventhub"]},"name":{"constant_value":"authrule1"},"namespace_name":{"references":["azurerm_eventhub_namespace.example"]},"resource_group_name":{"references":["azurerm_resource_group.rg"]},"send":{"constant_value":true}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":45,"EndLine":53}},{"address":"azurerm_eventhub_namespace.example","mode":"managed","type":"azurerm_eventhub_namespace","name":"example","provider_config_key":"azurerm","expressions":{"capacity":{"constant_value":1},"location":{"references":["azurerm_resource_group.rg"]},"name":{"references":["local.resource_prefix"]},"resource_group_name":{"references":["azurerm_resource_group.rg"]},"sku":{"constant_value":"Basic"}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":29,"EndLine":35}},{"address":"azurerm_iothub.iothub","mode":"managed","type":"azurerm_iothub","name":"iothub","provider_config_key":"azurerm","expressions":{"location":{"references":["azurerm_resource_group.rg"]},"name":{"references":["local.resource_prefix"]},"resource_group_name":{"references":["azurerm_resource_group.rg"]},"sku":[{"capacity":{"constant_value":"1"},"name":{"constant_value":"S1"}}]},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":56,"EndLine":105}},{"address":"azurerm_monitor_diagnostic_setting.example","mode":"managed","type":"azurerm_monitor_diagnostic_setting","name":"example","provider_config_key":"azurerm","expressions":{"log":[{"category":{"constant_value":"AuditEvent"},"enabled":{"constant_value":true},"retention_policy":[{"days":{"constant_value":400},"enabled":{"constant_value":true}}]}],"metric":[{"category":{"constant_value":"AllMetrics"},"enabled":{"constant_value":false},"retention_policy":[{"enabled":{"constant_value":false}}]}],"name":{"constant_value":"example"},"storage_account_id":{"references":["azurerm_storage_account.storacc"]},"target_resource_id":{"references":["azurerm_iothub.iothub"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":133,"EndLine":153}},{"address":"azurerm_resource_group.rg","mode":"managed","type":"azurerm_resource_group","name":"rg","provider_config_key":"azurerm","expressions":{"location":{"constant_value":"West Europe"},"name":{"references":["local.resource_prefix"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":10,"EndLine":13}},{"address":"azurerm_storage_account.storacc","mode":"managed","type":"azurerm_storage_account","name":"storacc","provider_config_key":"azurerm","expressions":{"account_replication_type":{"constant_value":"LRS"},"account_tier":{"constant_value":"Standard"},"location":{"references":["azurerm_resource_group.rg"]},"name":{"references":["local.resource_prefix"]},"resource_group_name":{"references":["azurerm_resource_group.rg"]}},"schema_version":2,"raw_data":{"FileName":"main.tf","StartLine":15,"EndLine":21}},{"address":"azurerm_storage_container.example","mode":"managed","type":"azurerm_storage_container","name":"example","provider_config_key":"azurerm","expressions":{"container_access_type":{"constant_value":"private"},"name":{"constant_value":"examplecontainer"},"storage_account_name":{"references":["azurerm_storage_account.storacc"]}},"schema_version":1,"raw_data":{"FileName":"main.tf","StartLine":23,"EndLine":27}},{"address":"data.azurerm_monitor_diagnostic_categories.main","mode":"data","type":"azurerm_monitor_diagnostic_categories","name":"main","provider_config_key":"azurerm","expressions":{"resource_id":{"references":["azurerm_iothub.iothub"]}},"schema_version":0,"count_expression":{"references":["local.enabled"]},"raw_data":{"FileName":"main.tf","StartLine":107,"EndLine":110}}],"variables":{"log_categories":{"default":null,"description":"List of log categories."}}}}}
