{"format_version":"0.1","terraform_version":"0.14.6","planned_values":{"root_module":{"resources":[{"address":"azurerm_key_vault.kv","mode":"managed","type":"azurerm_key_vault","name":"kv","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":2,"values":{"access_policy":[{"application_id":null,"certificate_permissions":null,"key_permissions":["Get","List","create","delete","recover"],"object_id":"ddc8b952-aa8e-4ae1-aa42-0dfdf4f15db3","secret_permissions":["Get","List","set"],"storage_permissions":["Get"],"tenant_id":"568db8f3-e402-4c09-baa9-692e42029cc7"},{"application_id":null,"certificate_permissions":null,"key_permissions":["Get","WrapKey","UnwrapKey"],"secret_permissions":null,"storage_permissions":null}],"contact":[],"enable_rbac_authorization":null,"enabled_for_deployment":null,"enabled_for_disk_encryption":null,"enabled_for_template_deployment":null,"location":"westeurope","name":"cr2523-keyvault","purge_protection_enabled":false,"resource_group_name":"cr2523-RG","sku_name":"standard","soft_delete_retention_days":7,"tags":null,"tenant_id":"568db8f3-e402-4c09-baa9-692e42029cc7","timeouts":null}},{"address":"azurerm_key_vault_key.key","mode":"managed","type":"azurerm_key_vault_key","name":"key","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"expiration_date":null,"key_opts":["decrypt","encrypt","sign","unwrapKey","verify","wrapKey"],"key_size":2048,"key_type":"RSA","key_vault_id":"azurerm_key_vault.kv.id","name":"cr2523-sqlkey","not_before_date":null,"tags":null,"timeouts":null}},{"address":"azurerm_mssql_database.test","mode":"managed","type":"azurerm_mssql_database","name":"test","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":1,"values":{"collation":"SQL_Latin1_General_CP1_CI_AS","create_mode":"Default","elastic_pool_id":null,"geo_backup_enabled":true,"license_type":"LicenseIncluded","max_size_gb":1,"name":"cr2523-db","recover_database_id":null,"restore_dropped_database_id":null,"server_id":"azurerm_mssql_server.sql.id","sku_name":"Basic","storage_account_type":"GRS","tags":null,"timeouts":null,"zone_redundant":false}},{"address":"azurerm_mssql_server.sql","mode":"managed","type":"azurerm_mssql_server","name":"sql","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"administrator_login":"4dm1n157r470r","administrator_login_password":"4-v3ry-53cr37-p455w0rd","azuread_administrator":[],"connection_policy":"Default","identity":[{"type":"SystemAssigned","user_assigned_identity_ids":null}],"location":"westeurope","minimum_tls_version":null,"name":"cr2523-sqlserver","public_network_access_enabled":true,"resource_group_name":"cr2523-RG","tags":null,"timeouts":null,"version":"12.0"}},{"address":"azurerm_mssql_server_transparent_data_encryption.example","mode":"managed","type":"azurerm_mssql_server_transparent_data_encryption","name":"example","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"key_vault_key_id":"azurerm_key_vault_key.key.id","server_id":"azurerm_mssql_server.sql.id","timeouts":null}},{"address":"azurerm_resource_group.rg","mode":"managed","type":"azurerm_resource_group","name":"rg","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"location":"westeurope","name":"cr2523-RG","tags":null,"timeouts":null}}]}},"resource_changes":[{"address":"azurerm_key_vault.kv","mode":"managed","type":"azurerm_key_vault","name":"kv","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"access_policy":[{"application_id":null,"certificate_permissions":null,"key_permissions":["Get","List","create","delete","recover"],"object_id":"ddc8b952-aa8e-4ae1-aa42-0dfdf4f15db3","secret_permissions":["Get","List","set"],"storage_permissions":["Get"],"tenant_id":"568db8f3-e402-4c09-baa9-692e42029cc7"},{"application_id":null,"certificate_permissions":null,"key_permissions":["Get","WrapKey","UnwrapKey"],"secret_permissions":null,"storage_permissions":null}],"contact":[],"enable_rbac_authorization":null,"enabled_for_deployment":null,"enabled_for_disk_encryption":null,"enabled_for_template_deployment":null,"location":"westeurope","name":"cr2523-keyvault","purge_protection_enabled":false,"resource_group_name":"cr2523-RG","sku_name":"standard","soft_delete_retention_days":7,"tags":null,"tenant_id":"568db8f3-e402-4c09-baa9-692e42029cc7","timeouts":null},"after_unknown":{"access_policy":[{"key_permissions":[false,false,false,false,false],"secret_permissions":[false,false,false],"storage_permissions":[false]},{"key_permissions":[false,false,false],"object_id":true,"tenant_id":true}],"contact":[],"id":true,"network_acls":true,"soft_delete_enabled":true,"vault_uri":true}}},{"address":"azurerm_key_vault_key.key","mode":"managed","type":"azurerm_key_vault_key","name":"key","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"expiration_date":null,"key_opts":["decrypt","encrypt","sign","unwrapKey","verify","wrapKey"],"key_size":2048,"key_type":"RSA","key_vault_id":"azurerm_key_vault.kv.id","name":"cr2523-sqlkey","not_before_date":null,"tags":null,"timeouts":null},"after_unknown":{"curve":true,"e":true,"id":true,"key_opts":[false,false,false,false,false,false],"n":true,"public_key_openssh":true,"public_key_pem":true,"version":true,"versionless_id":true,"x":true,"y":true}}},{"address":"azurerm_mssql_database.test","mode":"managed","type":"azurerm_mssql_database","name":"test","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"collation":"SQL_Latin1_General_CP1_CI_AS","create_mode":"Default","elastic_pool_id":null,"geo_backup_enabled":true,"license_type":"LicenseIncluded","max_size_gb":1,"name":"cr2523-db","recover_database_id":null,"restore_dropped_database_id":null,"server_id":"azurerm_mssql_server.sql.id","sku_name":"Basic","storage_account_type":"GRS","tags":null,"timeouts":null,"zone_redundant":false},"after_unknown":{"auto_pause_delay_in_minutes":true,"creation_source_database_id":true,"extended_auditing_policy":true,"id":true,"long_term_retention_policy":true,"min_capacity":true,"read_replica_count":true,"read_scale":true,"restore_point_in_time":true,"sample_name":true,"short_term_retention_policy":true,"threat_detection_policy":true}}},{"address":"azurerm_mssql_server.sql","mode":"managed","type":"azurerm_mssql_server","name":"sql","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"administrator_login":"4dm1n157r470r","administrator_login_password":"4-v3ry-53cr37-p455w0rd","azuread_administrator":[],"connection_policy":"Default","identity":[{"type":"SystemAssigned","user_assigned_identity_ids":null}],"location":"westeurope","minimum_tls_version":null,"name":"cr2523-sqlserver","public_network_access_enabled":true,"resource_group_name":"cr2523-RG","tags":null,"timeouts":null,"version":"12.0"},"after_unknown":{"azuread_administrator":[],"extended_auditing_policy":true,"fully_qualified_domain_name":true,"id":true,"identity":[{"principal_id":true,"tenant_id":true}],"primary_user_assigned_identity_id":true,"restorable_dropped_database_ids":true}}},{"address":"azurerm_mssql_server_transparent_data_encryption.example","mode":"managed","type":"azurerm_mssql_server_transparent_data_encryption","name":"example","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"key_vault_key_id":"azurerm_key_vault_key.key.id","server_id":"azurerm_mssql_server.sql.id","timeouts":null},"after_unknown":{"id":true}}},{"address":"azurerm_resource_group.rg","mode":"managed","type":"azurerm_resource_group","name":"rg","provider_name":"registry.terraform.io/hashicorp/azurerm","change":{"actions":["create"],"before":null,"after":{"location":"westeurope","name":"cr2523-RG","tags":null,"timeouts":null},"after_unknown":{"id":true}}}],"prior_state":{"format_version":"0.1","terraform_version":"1.0.3","values":{"root_module":{"resources":[{"address":"data.azurerm_client_config.current","mode":"data","type":"azurerm_client_config","name":"current","provider_name":"registry.terraform.io/hashicorp/azurerm","schema_version":0,"values":{"client_id":"04b07795-8ddb-461a-bbee-02f9e1bf7b46","id":"2021-12-29 09:15:25.140758 +0000 UTC","object_id":"ddc8b952-aa8e-4ae1-aa42-0dfdf4f15db3","subscription_id":"230613d8-3b34-4790-b650-36f31045f19a","tenant_id":"568db8f3-e402-4c09-baa9-692e42029cc7","timeouts":null}}]}}},"configuration":{"provider_config":{"azurerm":{"name":"azurerm","expressions":{"features":[{}]}}},"root_module":{"resources":[{"address":"azurerm_key_vault.kv","mode":"managed","type":"azurerm_key_vault","name":"kv","provider_config_key":"azurerm","expressions":{"location":{"references":["azurerm_resource_group.rg"]},"name":{"references":["local.resource_prefix"]},"purge_protection_enabled":{"constant_value":false},"resource_group_name":{"references":["azurerm_resource_group.rg"]},"sku_name":{"constant_value":"standard"},"soft_delete_retention_days":{"constant_value":7},"tenant_id":{"references":["data.azurerm_client_config.current"]}},"schema_version":2,"raw_data":{"FileName":"main.tf","StartLine":30,"EndLine":61}},{"address":"azurerm_key_vault_key.key","mode":"managed","type":"azurerm_key_vault_key","name":"key","provider_config_key":"azurerm","expressions":{"key_opts":{"constant_value":["decrypt","encrypt","sign","unwrapKey","verify","wrapKey"]},"key_size":{"constant_value":2048},"key_type":{"constant_value":"RSA"},"key_vault_id":{"references":["azurerm_key_vault.kv"]},"name":{"references":["local.resource_prefix"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":63,"EndLine":69}},{"address":"azurerm_mssql_database.test","mode":"managed","type":"azurerm_mssql_database","name":"test","provider_config_key":"azurerm","expressions":{"collation":{"constant_value":"SQL_Latin1_General_CP1_CI_AS"},"license_type":{"constant_value":"LicenseIncluded"},"max_size_gb":{"constant_value":1},"name":{"references":["local.resource_prefix"]},"server_id":{"references":["azurerm_mssql_server.sql"]},"sku_name":{"constant_value":"Basic"},"zone_redundant":{"constant_value":false}},"schema_version":1,"raw_data":{"FileName":"main.tf","StartLine":77,"EndLine":86}},{"address":"azurerm_mssql_server.sql","mode":"managed","type":"azurerm_mssql_server","name":"sql","provider_config_key":"azurerm","expressions":{"administrator_login":{"constant_value":"4dm1n157r470r"},"administrator_login_password":{"constant_value":"4-v3ry-53cr37-p455w0rd"},"identity":[{"type":{"constant_value":"SystemAssigned"}}],"location":{"references":["azurerm_resource_group.rg"]},"name":{"references":["local.resource_prefix"]},"resource_group_name":{"references":["azurerm_resource_group.rg"]},"version":{"constant_value":"12.0"}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":17,"EndLine":28}},{"address":"azurerm_mssql_server_transparent_data_encryption.example","mode":"managed","type":"azurerm_mssql_server_transparent_data_encryption","name":"example","provider_config_key":"azurerm","expressions":{"key_vault_key_id":{"references":["azurerm_key_vault_key.key"]},"server_id":{"references":["azurerm_mssql_server.sql"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":71,"EndLine":74}},{"address":"azurerm_resource_group.rg","mode":"managed","type":"azurerm_resource_group","name":"rg","provider_config_key":"azurerm","expressions":{"location":{"constant_value":"West Europe"},"name":{"references":["local.resource_prefix"]}},"schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":12,"EndLine":15}},{"address":"data.azurerm_client_config.current","mode":"data","type":"azurerm_client_config","name":"current","provider_config_key":"azurerm","schema_version":0,"raw_data":{"FileName":"main.tf","StartLine":10,"EndLine":10}}]}}}
