{
  "version": 4,
  "terraform_version": "0.13.4",
  "serial": 1618,
  "lineage": "8e2d5261-1192-b302-e6c8-8da46ee28cd9",
  "outputs": {
    "public_fqdn": {
      "value": "consoleme-lb-701307871.us-east-1.elb.amazonaws.com",
      "type": "string"
    },
    "zREADME": {
      "value": "# ------------------------------------------------------------------------------\n# ConsoleMe Demo Guide\n# ------------------------------------------------------------------------------\n\nIf you're following the Terraform demo environment and your Terraform apply was\nsuccessful, you can wait for a few minutes and then visit the ConsoleMe dashboard\nat the following URL:\n\n$ https://consoleme-lb-701307871.us-east-1.elb.amazonaws.com:443\n\nIf you want to access the server over SSH, consider using Systems Manager or a VPN in.\n\nIf you want to experiment with the ConsoleMe config, you can find the config files at the path:\n\n$ cd /apps/consoleme/example_config/\n\n",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "aws_ami",
      "name": "amazon_linux",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "architecture": "x86_64",
            "arn": "arn:aws:ec2:us-east-1::image/ami-0e04af8e50845beb6",
            "block_device_mappings": [
              {
                "device_name": "/dev/xvda",
                "ebs": {
                  "delete_on_termination": "true",
                  "encrypted": "false",
                  "iops": "0",
                  "snapshot_id": "snap-0740be58f4d41f11a",
                  "volume_size": "8",
                  "volume_type": "standard"
                },
                "no_device": "",
                "virtual_name": ""
              }
            ],
            "creation_date": "2020-11-26T04:11:12.000Z",
            "description": "Amazon Linux 2 AMI 2.0.20201126.0 x86_64 HVM ebs",
            "executable_users": null,
            "filter": [
              {
                "name": "name",
                "values": [
                  "amzn2-ami-hvm-2.0.2020*-x86_64-ebs"
                ]
              }
            ],
            "hypervisor": "xen",
            "id": "ami-0e04af8e50845beb6",
            "image_id": "ami-0e04af8e50845beb6",
            "image_location": "amazon/amzn2-ami-hvm-2.0.20201126.0-x86_64-ebs",
            "image_owner_alias": "amazon",
            "image_type": "machine",
            "kernel_id": null,
            "most_recent": true,
            "name": "amzn2-ami-hvm-2.0.20201126.0-x86_64-ebs",
            "name_regex": null,
            "owner_id": "137112412989",
            "owners": [
              "amazon"
            ],
            "platform": null,
            "product_codes": [],
            "public": true,
            "ramdisk_id": null,
            "root_device_name": "/dev/xvda",
            "root_device_type": "ebs",
            "root_snapshot_id": "snap-0740be58f4d41f11a",
            "sriov_net_support": "simple",
            "state": "available",
            "state_reason": {
              "code": "UNSET",
              "message": "UNSET"
            },
            "tags": {},
            "virtualization_type": "hvm"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "154724799477",
            "arn": "arn:aws:sts::154724799477:assumed-role/AWSReservedSSO_admin_in_develop_0c0a50f1bf45bfba/y@indeni.com",
            "id": "154724799477",
            "user_id": "AROASIBSRCP2QCSB6JF4M:y@indeni.com"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "ConsoleMeInstanceProfile",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "244562869",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"CentralAccountPermissions\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"sts:assumerole\",\n        \"sqs:*\",\n        \"sns:*\",\n        \"s3:GetObject\",\n        \"iam:list*\",\n        \"dynamodb:*\",\n        \"config:*\",\n        \"cloudwatch:*\",\n        \"cloudtrail:*\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Sid\": \"SendEmail\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ses:sendrawemail\",\n        \"ses:sendemail\"\n      ],\n      \"Resource\": \"arn:aws:ses:*:154724799477:identity/your_identity.example.com\",\n      \"Condition\": {\n        \"StringLike\": {\n          \"ses:FromAddress\": \"email_address_here@example.com\"\n        }\n      }\n    }\n  ]\n}",
            "override_json": null,
            "policy_id": null,
            "source_json": null,
            "statement": [
              {
                "actions": [
                  "cloudtrail:*",
                  "cloudwatch:*",
                  "config:*",
                  "dynamodb:*",
                  "iam:list*",
                  "s3:GetObject",
                  "sns:*",
                  "sqs:*",
                  "sts:assumerole"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": "CentralAccountPermissions"
              },
              {
                "actions": [
                  "ses:sendemail",
                  "ses:sendrawemail"
                ],
                "condition": [
                  {
                    "test": "StringLike",
                    "values": [
                      "email_address_here@example.com"
                    ],
                    "variable": "ses:FromAddress"
                  }
                ],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "arn:aws:ses:*:154724799477:identity/your_identity.example.com"
                ],
                "sid": "SendEmail"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "ConsoleMe_trust_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "3546792178",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AssumeRoleEC2\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ec2.amazonaws.com\"\n      }\n    }\n  ]\n}",
            "override_json": null,
            "policy_id": null,
            "source_json": null,
            "statement": [
              {
                "actions": [
                  "sts:AssumeRole"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "ec2.amazonaws.com"
                    ],
                    "type": "Service"
                  }
                ],
                "resources": [],
                "sid": "AssumeRoleEC2"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "consoleme_target",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "4208297264",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"ConsoleMeWillAccessThis\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"sqs:UntagQueue\",\n        \"sqs:TagQueue\",\n        \"sqs:SetQueueAttributes\",\n        \"sqs:ListQueues\",\n        \"sqs:ListQueueTags\",\n        \"sqs:GetQueueUrl\",\n        \"sqs:GetQueueAttributes\",\n        \"sns:UnTagResource\",\n        \"sns:TagResource\",\n        \"sns:SetTopicAttributes\",\n        \"sns:ListTopics\",\n        \"sns:ListTagsForResource\",\n        \"sns:GetTopicAttributes\",\n        \"servicequotas:*\",\n        \"s3:PutBucketTagging\",\n        \"s3:PutBucketPolicy\",\n        \"s3:ListBucket\",\n        \"s3:ListAllMyBuckets\",\n        \"s3:GetObject\",\n        \"s3:GetBucketTagging\",\n        \"s3:GetBucketPolicy\",\n        \"iam:*\",\n        \"ec2:describevpcendpoints\",\n        \"ec2:DescribeVpcs\",\n        \"ec2:DescribeSubnets\",\n        \"ec2:DescribeInstances\",\n        \"config:Select*\",\n        \"config:List*\",\n        \"config:BatchGet*\",\n        \"cloudwatch:List*\",\n        \"cloudwatch:Get*\",\n        \"autoscaling:Describe*\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}",
            "override_json": null,
            "policy_id": null,
            "source_json": null,
            "statement": [
              {
                "actions": [
                  "autoscaling:Describe*",
                  "cloudwatch:Get*",
                  "cloudwatch:List*",
                  "config:BatchGet*",
                  "config:List*",
                  "config:Select*",
                  "ec2:DescribeInstances",
                  "ec2:DescribeSubnets",
                  "ec2:DescribeVpcs",
                  "ec2:describevpcendpoints",
                  "iam:*",
                  "s3:GetBucketPolicy",
                  "s3:GetBucketTagging",
                  "s3:GetObject",
                  "s3:ListAllMyBuckets",
                  "s3:ListBucket",
                  "s3:PutBucketPolicy",
                  "s3:PutBucketTagging",
                  "servicequotas:*",
                  "sns:GetTopicAttributes",
                  "sns:ListTagsForResource",
                  "sns:ListTopics",
                  "sns:SetTopicAttributes",
                  "sns:TagResource",
                  "sns:UnTagResource",
                  "sqs:GetQueueAttributes",
                  "sqs:GetQueueUrl",
                  "sqs:ListQueueTags",
                  "sqs:ListQueues",
                  "sqs:SetQueueAttributes",
                  "sqs:TagQueue",
                  "sqs:UntagQueue"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": "ConsoleMeWillAccessThis"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "consoleme_target_trust_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "730178917",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"ConsoleMeAssumesTarget\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::154724799477:role/consolemeInstanceProfile\"\n      }\n    }\n  ]\n}",
            "override_json": null,
            "policy_id": null,
            "source_json": null,
            "statement": [
              {
                "actions": [
                  "sts:AssumeRole"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "arn:aws:iam::154724799477:role/consolemeInstanceProfile"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [],
                "sid": "ConsoleMeAssumesTarget"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "consoleme_user_deny_all",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "1539188472",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"ConsoleMeWillAssumeThis\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"*\"\n    }\n  ]\n}",
            "override_json": null,
            "policy_id": null,
            "source_json": null,
            "statement": [
              {
                "actions": [
                  "*"
                ],
                "condition": [],
                "effect": "Deny",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [],
                "resources": [
                  "*"
                ],
                "sid": "ConsoleMeWillAssumeThis"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_iam_policy_document",
      "name": "consoleme_user_trust_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "3734923344",
            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"ConsoleMeCanAssumeAllRoles\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::154724799477:role/consolemeInstanceProfile\"\n      }\n    }\n  ]\n}",
            "override_json": null,
            "policy_id": null,
            "source_json": null,
            "statement": [
              {
                "actions": [
                  "sts:AssumeRole"
                ],
                "condition": [],
                "effect": "Allow",
                "not_actions": [],
                "not_principals": [],
                "not_resources": [],
                "principals": [
                  {
                    "identifiers": [
                      "arn:aws:iam::154724799477:role/consolemeInstanceProfile"
                    ],
                    "type": "AWS"
                  }
                ],
                "resources": [],
                "sid": "ConsoleMeCanAssumeAllRoles"
              }
            ],
            "version": "2012-10-17"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_region",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "US East (N. Virginia)",
            "endpoint": "ec2.us-east-1.amazonaws.com",
            "id": "us-east-1",
            "name": "us-east-1"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "template_file",
      "name": "consoleme_config",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "ff90d07015a9012660de352633d260b376e411e9f903cb5511306f1404a263d3",
            "rendered": "extends:\n  - example_config_base.yaml\n\ntornado:\n  debug: true\n  port: 8081\n  xsrf: true\n  uvloop: false\n\nchallenge_url:\n  enabled: true\n\n# Enter your team's e-mail address here. This e-mail will be used as the default approvers of IAM policy requests\napplication_admin: y@indeni.com\ndevelopment: false\nenvironment: prod\n\nlogging:\n  stdout_enabled: true\n  format: \"%(asctime)s - %(levelname)s - %(name)s - [%(filename)s:%(lineno)s - %(funcName)s() ] - %(message)s\"\n  level: debug\n  file: /logs/consoleme/consoleme_tornado.log\n\naccount_ids_to_name:\n  \"154724799477\": default_account\n\ncache_cloud_accounts:\n  from_aws_organizations: false\n\ncache_accounts_from_aws_organizations:\n  organizations_master_account_id: \"154724799477\"\n  organizations_master_role_to_assume: \"ConsoleMeTarget\"\n\ncloud_credential_authorization_mapping:\n  role_tags:\n    enabled: true\n    required_trust_policy_entity: arn:aws:iam::154724799477:role/consolemeInstanceProfile\n    authorized_groups_tags:\n      - consoleme-authorized\n    authorized_groups_cli_only_tags:\n      - consoleme-authorized-cli-only\n  dynamic_config:\n    enabled: true\n  internal_plugin:\n    enabled: false\n\n# You'll probably want to override default_plugins logic to generate this data with your own business logic.\napplication_settings:\n  application_1:\n    owner: y@indeni.com\n    owner_url: https://www.example.com/groupa@example.com\n    app_url: https://www.example.com/ci_cd_pipeline/application_1\n    roles:\n      - arn:aws:iam::154724799477:role/ConsoleMeAppA\n  application_2:\n    owner: y@indeni.com\n    owner_url: https://www.example.com/groupb@example.com\n    app_url: https://www.example.com/ci_cd_pipeline/application_2\n    roles:\n      - arn:aws:iam::154724799477:role/ConsoleMeAppB\n\ndynamic_config:\n  # You can set this key in http://YOUR_CONSOLEME_DOMAIN/config as a rudimentary way to allow groups to access\n  # roles before you override get_eligible_roles with your own custom logic\n  group_mapping:\n    y@indeni.com:\n      roles:\n        - arn:aws:iam::154724799477:role/ConsoleMeUserA\n        - arn:aws:iam::154724799477:role/ConsoleMeUserB\n\npolicies:\n  role_name: ConsoleMeTarget\n\ncelery:\n  active_region: us-east-1\n\nauth:\n  get_user_by_aws_alb_auth: true\n  set_auth_cookie: true\n\nget_user_by_aws_alb_auth_settings:\n  jwt_email_key: email\n  jwt_groups_key: groups\n\njwt_secret: secret\nurl: https://consoleme-lb-701307871.us-east-1.elb.amazonaws.com:443\n",
            "template": "extends:\n  - example_config_base.yaml\n\ntornado:\n  debug: true\n  port: 8081\n  xsrf: true\n  uvloop: false\n\nchallenge_url:\n  enabled: true\n\n# Enter your team's e-mail address here. This e-mail will be used as the default approvers of IAM policy requests\napplication_admin: ${application_admin}\ndevelopment: false\nenvironment: prod\n\nlogging:\n  stdout_enabled: true\n  format: \"%(asctime)s - %(levelname)s - %(name)s - [%(filename)s:%(lineno)s - %(funcName)s() ] - %(message)s\"\n  level: debug\n  file: /logs/consoleme/consoleme_tornado.log\n\naccount_ids_to_name:\n  \"${current_account_id}\": default_account\n\ncache_cloud_accounts:\n  from_aws_organizations: ${sync_accounts_from_organizations}\n\ncache_accounts_from_aws_organizations:\n  organizations_master_account_id: \"${sync_accounts_from_organizations_master_account_id}\"\n  organizations_master_role_to_assume: \"${sync_accounts_from_organizations_role_to_assume}\"\n\ncloud_credential_authorization_mapping:\n  role_tags:\n    enabled: true\n    required_trust_policy_entity: arn:aws:iam::${current_account_id}:role/consolemeInstanceProfile\n    authorized_groups_tags:\n      - consoleme-authorized\n    authorized_groups_cli_only_tags:\n      - consoleme-authorized-cli-only\n  dynamic_config:\n    enabled: true\n  internal_plugin:\n    enabled: false\n\n# You'll probably want to override default_plugins logic to generate this data with your own business logic.\napplication_settings:\n  application_1:\n    owner: ${application_admin}\n    owner_url: https://www.example.com/groupa@example.com\n    app_url: https://www.example.com/ci_cd_pipeline/application_1\n    roles:\n      - ${demo_app_role_arn_1}\n  application_2:\n    owner: ${application_admin}\n    owner_url: https://www.example.com/groupb@example.com\n    app_url: https://www.example.com/ci_cd_pipeline/application_2\n    roles:\n      - ${demo_app_role_arn_2}\n\ndynamic_config:\n  # You can set this key in http://YOUR_CONSOLEME_DOMAIN/config as a rudimentary way to allow groups to access\n  # roles before you override get_eligible_roles with your own custom logic\n  group_mapping:\n    ${application_admin}:\n      roles:\n        - ${demo_user_role_arn_1}\n        - ${demo_user_role_arn_2}\n\npolicies:\n  role_name: ConsoleMeTarget\n\ncelery:\n  active_region: ${region}\n\nauth:\n  get_user_by_aws_alb_auth: true\n  set_auth_cookie: true\n\nget_user_by_aws_alb_auth_settings:\n  jwt_email_key: ${jwt_email_key}\n  jwt_groups_key: groups\n\njwt_secret: secret\nurl: ${user_facing_url}\n",
            "vars": {
              "application_admin": "y@indeni.com",
              "current_account_id": "154724799477",
              "demo_app_role_arn_1": "arn:aws:iam::154724799477:role/ConsoleMeAppA",
              "demo_app_role_arn_2": "arn:aws:iam::154724799477:role/ConsoleMeAppB",
              "demo_target_role_arn": "arn:aws:iam::154724799477:role/ConsoleMeTarget",
              "demo_user_role_arn_1": "arn:aws:iam::154724799477:role/ConsoleMeUserA",
              "demo_user_role_arn_2": "arn:aws:iam::154724799477:role/ConsoleMeUserB",
              "jwt_email_key": "email",
              "region": "us-east-1",
              "sync_accounts_from_organizations": "false",
              "sync_accounts_from_organizations_master_account_id": "154724799477",
              "sync_accounts_from_organizations_role_to_assume": "ConsoleMeTarget",
              "user_facing_url": "https://consoleme-lb-701307871.us-east-1.elb.amazonaws.com:443"
            }
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "template_file",
      "name": "consoleme_userdata",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "f331692d4419a6846e6f4267d8d287de970b6d142a291ef20a5021da230116f3",
            "rendered": "#!/usr/bin/env bash\nset -x\n\nexport HOME=/root\nexport EC2_REGION=us-east-1\nexport CONSOLEME_CONFIG_S3=s3://your-name-prefix-lrhb/config.yaml\n\n# ---------------------------------------------------------------------------------------------------------------------\n# Filter out useless messages from logs\n# ---------------------------------------------------------------------------------------------------------------------\ncat \u003c\u003cEOF \u003e /etc/rsyslog.d/01_filters.conf\n\nif \\$programname == 'systemd' and \\$msg contains \"Started Session\" then stop\nif \\$programname == 'systemd' and \\$msg contains \"Starting Session\" then stop\nif \\$programname == 'systemd' and \\$msg contains \"Created slice\" then stop\nif \\$programname == 'systemd' and \\$msg contains \"Starting user-\" then stop\nif \\$programname == 'systemd' and \\$msg contains \"Stopping user-\" then stop\nif \\$programname == 'systemd' and \\$msg contains \"Removed slice\" then stop\nEOF\nsystemctl restart rsyslog\n\n# ---------------------------------------------------------------------------------------------------------------------\n# Prereqs\n# ---------------------------------------------------------------------------------------------------------------------\n\n# Install Docker\nsudo yum update -y\nyum -y erase python3\nsudo amazon-linux-extras enable python3.8 # consoleme requires 3.8\nyum -y install git python3.8 python38-pip python38-devel\nyum -y install libcurl-devel\nyum -y install libxml2-devel xmlsec1-devel xmlsec1-openssl-devel libtool-ltdl-devel\nsudo yum install -y gcc-c++\n\nyum -y install gcc\nsudo amazon-linux-extras install -y docker\nsudo service docker start\nsudo usermod -a -G docker ec2-user\n\nmkdir -p /apps/consoleme\nmkdir /logs\ncd /apps/\nyum -y install unzip\naws s3 cp s3://your-name-prefix-lrhb/consoleme.tar.gz /apps/\ntar -xzvf consoleme.tar.gz -C consoleme/\nrm consoleme.tar.gz\n\n#### User specific installation\n# Create a dedicated service user\nuseradd -r -s /bin/false consoleme\nusermod -aG consoleme consoleme\nusermod -aG docker consoleme\n\n# Flower\nuseradd -r -s /bin/false flower\nusermod -aG flower flower\nmkdir -p /apps/flower\nchown -R flower:flower /apps/flower\npython3.8 -m venv /apps/flower/env --copies\nsource /apps/flower/env/bin/activate\npip3.8 install flower redis\n\n# Set up a new Virtualenv in the Consoleme directory\npython3.8 -m venv /apps/consoleme/env\nsource /apps/consoleme/env/bin/activate\nchown -R consoleme:consoleme /apps/consoleme\nchown -R consoleme:consoleme /logs\n# Install it\ncd /apps/consoleme\npip3.8 install xmlsec\n\n# Make uses \"pip\" and \"python\", assuming they are 3.8, but they actually point to python2 (because yum uses it)\nalias python=python3.8\nalias pip=pip3.8\nmake env_install\n\nmake dynamo\nunalias python\nunalias pip\n\nsudo yum install -y https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm\nsudo yum-config-manager --enable epel\nyum -y install redis\nsystemctl status redis\nsystemctl start redis\n\n# Update the UI\ncd /apps/consoleme\n\n# Install nvm\ncurl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.3/install.sh \u003e /tmp/nvm-install.sh\nchmod +x /tmp/nvm-install.sh\nbash /tmp/nvm-install.sh\necho 'export NVM_DIR=\"/root/.nvm\"' \u003e\u003e /root/.bashrc\necho '[ -s \"\\$NVM_DIR/nvm.sh\" ] \u0026\u0026 . \"\\$NVM_DIR/nvm.sh\"  # This loads nvm' \u003e\u003e /root/.bashrc\n. ~/.nvm/nvm.sh\n. ~/.bashrc\ncd /apps/consoleme\nnvm install 12.18.2\nnvm use 12.18.2\nnode -e \"console.log('Running Node.js ' + process.version)\"\nnpm install yarn -g\nyarn --cwd ui\nyarn --cwd ui build:prod\n\n# Since the setup ran as root, just chown it again so the consoleme user owns it\nchown -R consoleme:consoleme /apps/consoleme\nchown -R consoleme:consoleme /logs/consoleme\n\ncat \u003c\u003c EOF \u003e /etc/environment\nEC2_REGION=us-east-1\nCONSOLEME_CONFIG_S3=s3://your-name-prefix-lrhb/config.yaml\nEOF\n\ncat \u003c\u003c EOF \u003e /etc/systemd/system/consoleme.service\n[Unit]\nDescription=ConsoleMe Service\nAfter=network.target\nStartLimitIntervalSec=0\nStartLimitBurst=5\nStartLimitIntervalSec=0\n\n[Service]\nEnvironment=EC2_REGION=us-east-1\nWorkingDirectory=/apps/consoleme\nType=simple\nRestart=always\nRestartSec=1\nUser=consoleme\nGroup=consoleme\nExecStart=/usr/bin/env /apps/consoleme/env/bin/python3.8 /apps/consoleme/consoleme/__main__.py\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\ncat \u003c\u003c EOF \u003e /etc/systemd/system/celery.service\n[Unit]\nDescription=Celery Service\nAfter=network.target\n\n[Service]\nType=forking\nUser=consoleme\nGroup=consoleme\nType=simple\nRestart=always\nRestartSec=1\nWorkingDirectory=/apps/consoleme\nEnvironment=EC2_REGION=us-east-1\nExecStart=/usr/bin/env /apps/consoleme/env/bin/python3.8 /apps/consoleme/env/bin/celery -A consoleme.celery.celery_tasks worker -l DEBUG -B -E --concurrency=15\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\ncat \u003c\u003c EOF \u003e\u003e /root/.bashrc\nexport CONSOLEME_CONFIG_S3=s3://your-name-prefix-lrhb/config.yaml\nexport EC2_REGION=us-east-1\nEOF\n\n# Change permissions on service file\nchown root:root /etc/systemd/system/celery.service\nchmod 644 /etc/systemd/system/celery.service\nchown root:root /etc/systemd/system/consoleme.service\nchmod 644 /etc/systemd/system/consoleme.service\n\nsystemctl daemon-reload\n\nmkdir -p /home/consoleme\nchown consoleme:consoleme /home/consoleme/\n\ncat \u003c\u003c EOF \u003e\u003e /home/consoleme/.bashrc\nexport EC2_REGION=us-east-1\nEOF\n\n# Run script to decode and write a custom ConsoleMe configuration. This won't do anything unless CONSOLEME_CONFIG_S3 is defined.\nsudo -u consoleme bash -c '. /home/consoleme/.bashrc ; /apps/consoleme/env/bin/python3.8 /apps/consoleme/scripts/retrieve_or_decode_configuration.py'\n# Make sure it is listed\nsystemctl list-unit-files | grep celery.service\nsystemctl list-unit-files | grep consoleme.service\n# Enable the service and create the symlink in /usr/lib\nsystemctl start celery\nsystemctl enable celery\nsystemctl enable consoleme\nsystemctl start consoleme\n\nsudo -u consoleme bash -c '. /home/consoleme/.bashrc ; /apps/consoleme/env/bin/python3.8 /apps/consoleme/scripts/initialize_redis_oss.py'\n\necho \"Running custom userdata script\"\n",
            "template": "#!/usr/bin/env bash\nset -x\n\nexport HOME=/root\nexport EC2_REGION=${region}\nexport CONSOLEME_CONFIG_S3=${CONSOLEME_CONFIG_S3}\n\n# ---------------------------------------------------------------------------------------------------------------------\n# Filter out useless messages from logs\n# ---------------------------------------------------------------------------------------------------------------------\ncat \u003c\u003cEOF \u003e /etc/rsyslog.d/01_filters.conf\n\nif \\$programname == 'systemd' and \\$msg contains \"Started Session\" then stop\nif \\$programname == 'systemd' and \\$msg contains \"Starting Session\" then stop\nif \\$programname == 'systemd' and \\$msg contains \"Created slice\" then stop\nif \\$programname == 'systemd' and \\$msg contains \"Starting user-\" then stop\nif \\$programname == 'systemd' and \\$msg contains \"Stopping user-\" then stop\nif \\$programname == 'systemd' and \\$msg contains \"Removed slice\" then stop\nEOF\nsystemctl restart rsyslog\n\n# ---------------------------------------------------------------------------------------------------------------------\n# Prereqs\n# ---------------------------------------------------------------------------------------------------------------------\n\n# Install Docker\nsudo yum update -y\nyum -y erase python3\nsudo amazon-linux-extras enable python3.8 # consoleme requires 3.8\nyum -y install git python3.8 python38-pip python38-devel\nyum -y install libcurl-devel\nyum -y install libxml2-devel xmlsec1-devel xmlsec1-openssl-devel libtool-ltdl-devel\nsudo yum install -y gcc-c++\n\nyum -y install gcc\nsudo amazon-linux-extras install -y docker\nsudo service docker start\nsudo usermod -a -G docker ec2-user\n\nmkdir -p /apps/consoleme\nmkdir /logs\ncd /apps/\nyum -y install unzip\naws s3 cp s3://${bucket}/consoleme.tar.gz /apps/\ntar -xzvf consoleme.tar.gz -C consoleme/\nrm consoleme.tar.gz\n\n#### User specific installation\n# Create a dedicated service user\nuseradd -r -s /bin/false consoleme\nusermod -aG consoleme consoleme\nusermod -aG docker consoleme\n\n# Flower\nuseradd -r -s /bin/false flower\nusermod -aG flower flower\nmkdir -p /apps/flower\nchown -R flower:flower /apps/flower\npython3.8 -m venv /apps/flower/env --copies\nsource /apps/flower/env/bin/activate\npip3.8 install flower redis\n\n# Set up a new Virtualenv in the Consoleme directory\npython3.8 -m venv /apps/consoleme/env\nsource /apps/consoleme/env/bin/activate\nchown -R consoleme:consoleme /apps/consoleme\nchown -R consoleme:consoleme /logs\n# Install it\ncd /apps/consoleme\npip3.8 install xmlsec\n\n# Make uses \"pip\" and \"python\", assuming they are 3.8, but they actually point to python2 (because yum uses it)\nalias python=python3.8\nalias pip=pip3.8\nmake env_install\n\nmake dynamo\nunalias python\nunalias pip\n\nsudo yum install -y https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm\nsudo yum-config-manager --enable epel\nyum -y install redis\nsystemctl status redis\nsystemctl start redis\n\n# Update the UI\ncd /apps/consoleme\n\n# Install nvm\ncurl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.3/install.sh \u003e /tmp/nvm-install.sh\nchmod +x /tmp/nvm-install.sh\nbash /tmp/nvm-install.sh\necho 'export NVM_DIR=\"/root/.nvm\"' \u003e\u003e /root/.bashrc\necho '[ -s \"\\$NVM_DIR/nvm.sh\" ] \u0026\u0026 . \"\\$NVM_DIR/nvm.sh\"  # This loads nvm' \u003e\u003e /root/.bashrc\n. ~/.nvm/nvm.sh\n. ~/.bashrc\ncd /apps/consoleme\nnvm install 12.18.2\nnvm use 12.18.2\nnode -e \"console.log('Running Node.js ' + process.version)\"\nnpm install yarn -g\nyarn --cwd ui\nyarn --cwd ui build:prod\n\n# Since the setup ran as root, just chown it again so the consoleme user owns it\nchown -R consoleme:consoleme /apps/consoleme\nchown -R consoleme:consoleme /logs/consoleme\n\ncat \u003c\u003c EOF \u003e /etc/environment\nEC2_REGION=${region}\nCONSOLEME_CONFIG_S3=${CONSOLEME_CONFIG_S3}\nEOF\n\ncat \u003c\u003c EOF \u003e /etc/systemd/system/consoleme.service\n[Unit]\nDescription=ConsoleMe Service\nAfter=network.target\nStartLimitIntervalSec=0\nStartLimitBurst=5\nStartLimitIntervalSec=0\n\n[Service]\nEnvironment=EC2_REGION=${region}\nWorkingDirectory=/apps/consoleme\nType=simple\nRestart=always\nRestartSec=1\nUser=consoleme\nGroup=consoleme\nExecStart=/usr/bin/env /apps/consoleme/env/bin/python3.8 /apps/consoleme/consoleme/__main__.py\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\ncat \u003c\u003c EOF \u003e /etc/systemd/system/celery.service\n[Unit]\nDescription=Celery Service\nAfter=network.target\n\n[Service]\nType=forking\nUser=consoleme\nGroup=consoleme\nType=simple\nRestart=always\nRestartSec=1\nWorkingDirectory=/apps/consoleme\nEnvironment=EC2_REGION=${region}\nExecStart=/usr/bin/env /apps/consoleme/env/bin/python3.8 /apps/consoleme/env/bin/celery -A consoleme.celery.celery_tasks worker -l DEBUG -B -E --concurrency=15\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\ncat \u003c\u003c EOF \u003e\u003e /root/.bashrc\nexport CONSOLEME_CONFIG_S3=${CONSOLEME_CONFIG_S3}\nexport EC2_REGION=${region}\nEOF\n\n# Change permissions on service file\nchown root:root /etc/systemd/system/celery.service\nchmod 644 /etc/systemd/system/celery.service\nchown root:root /etc/systemd/system/consoleme.service\nchmod 644 /etc/systemd/system/consoleme.service\n\nsystemctl daemon-reload\n\nmkdir -p /home/consoleme\nchown consoleme:consoleme /home/consoleme/\n\ncat \u003c\u003c EOF \u003e\u003e /home/consoleme/.bashrc\nexport EC2_REGION=${region}\nEOF\n\n# Run script to decode and write a custom ConsoleMe configuration. This won't do anything unless CONSOLEME_CONFIG_S3 is defined.\nsudo -u consoleme bash -c '. /home/consoleme/.bashrc ; /apps/consoleme/env/bin/python3.8 /apps/consoleme/scripts/retrieve_or_decode_configuration.py'\n# Make sure it is listed\nsystemctl list-unit-files | grep celery.service\nsystemctl list-unit-files | grep consoleme.service\n# Enable the service and create the symlink in /usr/lib\nsystemctl start celery\nsystemctl enable celery\nsystemctl enable consoleme\nsystemctl start consoleme\n\nsudo -u consoleme bash -c '. /home/consoleme/.bashrc ; /apps/consoleme/env/bin/python3.8 /apps/consoleme/scripts/initialize_redis_oss.py'\n\necho \"Running custom userdata script\"\n${custom_user_data_script}",
            "vars": {
              "CONSOLEME_CONFIG_S3": "s3://your-name-prefix-lrhb/config.yaml",
              "bucket": "your-name-prefix-lrhb",
              "current_account_id": "154724799477",
              "custom_user_data_script": "",
              "region": "us-east-1"
            }
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_acm_certificate",
      "name": "lb-self-signed",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:acm:us-east-1:154724799477:certificate/b8a28e9b-276c-4eb7-8f4f-68bee997f37d",
            "certificate_authority_arn": "",
            "certificate_body": "-----BEGIN CERTIFICATE-----\nMIIDJTCCAg2gAwIBAgIQdiYQVFXYuBg5M77YAm4+ljANBgkqhkiG9w0BAQsFADAz\nMRswGQYDVQQKExJBQ01FIEV4YW1wbGVzLCBJbmMxFDASBgNVBAMTC2V4YW1wbGUu\nY29tMB4XDTIwMTIyMDA2MjczMFoXDTIxMTIyMDA2MjczMFowMzEbMBkGA1UEChMS\nQUNNRSBFeGFtcGxlcywgSW5jMRQwEgYDVQQDEwtleGFtcGxlLmNvbTCCASIwDQYJ\nKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKnZuwXyW9pHcyUeMJ7MRw4EDAFlg6TH\n6MZElRTqzuK/LPLZpXgNqc7FwExGHHxNKlkefAF5ITUwM+1S003TETdEUvx1eQBz\nui9EP2k40/Be3CqNWkYc+NU7wboBPND6nSunMowaElv2eAxBnhb8euPbFaQ0rFF4\nacriljAq7XwRekX5ANHHx5Mc9B8ILpZOvbrVgRvBlzmHB0tqBpbvWDQc5Hd7qgFd\nMPk6X5WdYhLTJEcdIJXVmfIuL8gdNUg5KZCpLbz7L/aBykwZhBwbubg79Qx4i7tx\nL6J1U97i7sX4xJNQfJBaWQBIiQsMuny9ESUBmYGZnM70GotaV1V/4QcCAwEAAaM1\nMDMwDgYDVR0PAQH/BAQDAgWgMBMGA1UdJQQMMAoGCCsGAQUFBwMBMAwGA1UdEwEB\n/wQCMAAwDQYJKoZIhvcNAQELBQADggEBAGb75KtqK5SDuFuZh5BNa3e/3Ur+ysOF\niRLJTC11iWkwE0WHl3PO7opX54WAt1+o/vWqP2l+LL0kTykbGCdaVFsHKq2dUHDa\nzZMYfbhzE0kjmyHuujhgLs4uCsuJtTMkDMR0xDoBxDkMHwFW2LSXiplpCvTVschA\nVRDzrAJV4EMAt1Q1oera13RnOnw/CrSlC+MgjAoE8AadyLs49V27I8PxbT02/pY9\n0L5ocgQCsa/8bfEl/pDxYPT6p6OlbfXMJaezQqkB0KTg3dXFsymt/Xr9cgkTFv5G\n4B51vBeDLLJKZYa+8eVVn2DEiyeI/fN2W39Y3lZVnPkrqur2AS9MGaw=\n-----END CERTIFICATE-----\n",
            "certificate_chain": null,
            "domain_name": "example.com",
            "domain_validation_options": [],
            "id": "arn:aws:acm:us-east-1:154724799477:certificate/b8a28e9b-276c-4eb7-8f4f-68bee997f37d",
            "options": [
              {
                "certificate_transparency_logging_preference": "DISABLED"
              }
            ],
            "private_key": "-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEAqdm7BfJb2kdzJR4wnsxHDgQMAWWDpMfoxkSVFOrO4r8s8tml\neA2pzsXATEYcfE0qWR58AXkhNTAz7VLTTdMRN0RS/HV5AHO6L0Q/aTjT8F7cKo1a\nRhz41TvBugE80PqdK6cyjBoSW/Z4DEGeFvx649sVpDSsUXhpyuKWMCrtfBF6RfkA\n0cfHkxz0Hwgulk69utWBG8GXOYcHS2oGlu9YNBzkd3uqAV0w+TpflZ1iEtMkRx0g\nldWZ8i4vyB01SDkpkKktvPsv9oHKTBmEHBu5uDv1DHiLu3EvonVT3uLuxfjEk1B8\nkFpZAEiJCwy6fL0RJQGZgZmczvQai1pXVX/hBwIDAQABAoIBAQCn1DmlnZ2/KHyR\nP6yBLI5FPiByvNEAYHwUdS3uFjpI+Og8Km0DHFUeuG3TsC9zb3gZyTJ07jCu8qtM\npFugeZ94Qa3SQW1H0hI1pDUYDov05nacIUIDJ5uEb2B0H8btI8VrnfEnWJetgPOM\nAMZqJh5zyUYwE8/1TIsUayJGBBTXUnzCR5bY+vxPKjZYbn0S7VMWBf6PntZPGhqz\n0bQ+pkfvOWq4iDsPdlGxXiGChzHta/R6QLfUBMesT5Rhs3oBzbB0ytkQjtRFL7o2\nyQF/BccE5Jwlnzujzw31Uq+V0K+pZnfkNH/ymcc3duGM9eIVqDOrEPdQM13BCRS+\nf9vGxdoBAoGBAN7uP9zjAjUXb2Xo2mG3wqOM6mIlV6vj36swquygtYAcGM1xXg+z\njE1ut6ug/wJk5dtFyeMZtTvQYf+IbCCZ4xXcidQcSplABdkmDHZ04v8HgJxDgRoh\nBTQGmKTwLgP7OApo4wzBDGcVsxS92+PxlvjqLWJV2nrLmfcR4VFAzTMBAoGBAMML\nxazzJAijEOP5glmlgyXrS04QH8G7HbFiU4J/+n69nKRKCFHy8wEzEs+YEAYOl404\nsopmcMUaClSnMCiq39isAluMIB5D82xTXLbG1KQVRKWLT3Ig+r5ByvYYwZnpjVFw\nEfdQintPbTfZZQpZP/eiX6ohZfa4NaWnBQTOL3wHAoGAaOUn7ZJvNnYJd6VCJFqn\n3fbvTjEN+JZnZxCmTGMuI9KUpQ5j2PV93e1rxPkjJIg/U5aZ8R7mlPdvNSKG5iwi\nmuXDgKezPjrOxadOk+pZ6PApxt1IgPfqj9lOt8U/kaYCb3t84kJvyI2ATxEqxy2l\nAQiHRE7rV343uvaR036vTwECgYBoNjoAFkkCdF3p8L48t7pC4Fzz8JmHITrUM/z6\nlPZ6EUVIYmXfozdDRM6gLFcjZViEE+8RE3rdVPSAFnQcxm+jjQQVdeETSqsdDc1T\nuxiSMuriqHRiPky6qtyOcNvAKJFhGcf/pADZsa5hUL4zsUwEO7VxaTbZg8LmJz7/\nOksUsQKBgQDU2WHgF3E+0Jzq2yn+FLg/Jq3erQhvV+pXK1WEwt1GS2HcGyXsPA0p\nqKxTs0q37yjP6H76IN2KXc7r29KGUlg++9+JlOLDHLt/2KhEL1T4LYsITeeM4ZRS\nPCfwwf285Fe21WHC3x6i0r4m3vbNfqjJ0qd3/oCUc6qEcVXkgPgz5Q==\n-----END RSA PRIVATE KEY-----\n",
            "status": "ISSUED",
            "subject_alternative_names": [],
            "tags": {},
            "validation_emails": [],
            "validation_method": "NONE"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "tls_private_key.lb-self-signed",
            "tls_self_signed_cert.lb-self-signed"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_dynamodb_table",
      "name": "consoleme_audit_global",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:dynamodb:us-east-1:154724799477:table/consoleme_audit_global",
            "attribute": [
              {
                "name": "group",
                "type": "S"
              },
              {
                "name": "uuid",
                "type": "S"
              }
            ],
            "billing_mode": "PROVISIONED",
            "global_secondary_index": [],
            "hash_key": "uuid",
            "id": "consoleme_audit_global",
            "local_secondary_index": [],
            "name": "consoleme_audit_global",
            "point_in_time_recovery": [
              {
                "enabled": true
              }
            ],
            "range_key": "group",
            "read_capacity": 5,
            "replica": [],
            "server_side_encryption": [],
            "stream_arn": "arn:aws:dynamodb:us-east-1:154724799477:table/consoleme_audit_global/stream/2020-12-20T06:27:35.834",
            "stream_enabled": true,
            "stream_label": "2020-12-20T06:27:35.834",
            "stream_view_type": "NEW_AND_OLD_IMAGES",
            "tags": {},
            "timeouts": null,
            "ttl": [
              {
                "attribute_name": "",
                "enabled": false
              }
            ],
            "write_capacity": 5
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjM2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_dynamodb_table",
      "name": "consoleme_config_global",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:dynamodb:us-east-1:154724799477:table/consoleme_config_global",
            "attribute": [
              {
                "name": "id",
                "type": "S"
              }
            ],
            "billing_mode": "PROVISIONED",
            "global_secondary_index": [],
            "hash_key": "id",
            "id": "consoleme_config_global",
            "local_secondary_index": [],
            "name": "consoleme_config_global",
            "point_in_time_recovery": [
              {
                "enabled": true
              }
            ],
            "range_key": null,
            "read_capacity": 5,
            "replica": [],
            "server_side_encryption": [],
            "stream_arn": "arn:aws:dynamodb:us-east-1:154724799477:table/consoleme_config_global/stream/2020-12-20T06:27:43.880",
            "stream_enabled": true,
            "stream_label": "2020-12-20T06:27:43.880",
            "stream_view_type": "NEW_AND_OLD_IMAGES",
            "tags": {},
            "timeouts": null,
            "ttl": [
              {
                "attribute_name": "",
                "enabled": false
              }
            ],
            "write_capacity": 5
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjM2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_dynamodb_table",
      "name": "consoleme_iamroles_global",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:dynamodb:us-east-1:154724799477:table/consoleme_iamroles_global",
            "attribute": [
              {
                "name": "accountId",
                "type": "S"
              },
              {
                "name": "arn",
                "type": "S"
              }
            ],
            "billing_mode": "PROVISIONED",
            "global_secondary_index": [],
            "hash_key": "arn",
            "id": "consoleme_iamroles_global",
            "local_secondary_index": [],
            "name": "consoleme_iamroles_global",
            "point_in_time_recovery": [
              {
                "enabled": true
              }
            ],
            "range_key": "accountId",
            "read_capacity": 5,
            "replica": [],
            "server_side_encryption": [],
            "stream_arn": "arn:aws:dynamodb:us-east-1:154724799477:table/consoleme_iamroles_global/stream/2020-12-20T06:27:34.461",
            "stream_enabled": true,
            "stream_label": "2020-12-20T06:27:34.461",
            "stream_view_type": "NEW_AND_OLD_IMAGES",
            "tags": {},
            "timeouts": null,
            "ttl": [
              {
                "attribute_name": "ttl",
                "enabled": true
              }
            ],
            "write_capacity": 5
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjM2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_dynamodb_table",
      "name": "consoleme_policy_requests",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:dynamodb:us-east-1:154724799477:table/consoleme_policy_requests",
            "attribute": [
              {
                "name": "request_id",
                "type": "S"
              }
            ],
            "billing_mode": "PROVISIONED",
            "global_secondary_index": [],
            "hash_key": "request_id",
            "id": "consoleme_policy_requests",
            "local_secondary_index": [],
            "name": "consoleme_policy_requests",
            "point_in_time_recovery": [
              {
                "enabled": true
              }
            ],
            "range_key": null,
            "read_capacity": 5,
            "replica": [],
            "server_side_encryption": [],
            "stream_arn": "arn:aws:dynamodb:us-east-1:154724799477:table/consoleme_policy_requests/stream/2020-12-20T06:27:42.639",
            "stream_enabled": true,
            "stream_label": "2020-12-20T06:27:42.639",
            "stream_view_type": "NEW_AND_OLD_IMAGES",
            "tags": {},
            "timeouts": null,
            "ttl": [
              {
                "attribute_name": "",
                "enabled": false
              }
            ],
            "write_capacity": 5
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjM2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_dynamodb_table",
      "name": "consoleme_requests_global",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:dynamodb:us-east-1:154724799477:table/consoleme_requests_global",
            "attribute": [
              {
                "name": "request_id",
                "type": "S"
              }
            ],
            "billing_mode": "PROVISIONED",
            "global_secondary_index": [],
            "hash_key": "request_id",
            "id": "consoleme_requests_global",
            "local_secondary_index": [],
            "name": "consoleme_requests_global",
            "point_in_time_recovery": [
              {
                "enabled": true
              }
            ],
            "range_key": null,
            "read_capacity": 5,
            "replica": [],
            "server_side_encryption": [],
            "stream_arn": "arn:aws:dynamodb:us-east-1:154724799477:table/consoleme_requests_global/stream/2020-12-20T06:27:34.477",
            "stream_enabled": true,
            "stream_label": "2020-12-20T06:27:34.477",
            "stream_view_type": "NEW_AND_OLD_IMAGES",
            "tags": {},
            "timeouts": null,
            "ttl": [
              {
                "attribute_name": "",
                "enabled": false
              }
            ],
            "write_capacity": 5
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjM2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_dynamodb_table",
      "name": "consoleme_resource_cache",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:dynamodb:us-east-1:154724799477:table/consoleme_resource_cache",
            "attribute": [
              {
                "name": "resourceId",
                "type": "S"
              },
              {
                "name": "resourceType",
                "type": "S"
              }
            ],
            "billing_mode": "PROVISIONED",
            "global_secondary_index": [],
            "hash_key": "resourceId",
            "id": "consoleme_resource_cache",
            "local_secondary_index": [],
            "name": "consoleme_resource_cache",
            "point_in_time_recovery": [
              {
                "enabled": true
              }
            ],
            "range_key": "resourceType",
            "read_capacity": 5,
            "replica": [],
            "server_side_encryption": [],
            "stream_arn": "arn:aws:dynamodb:us-east-1:154724799477:table/consoleme_resource_cache/stream/2020-12-20T06:27:37.294",
            "stream_enabled": true,
            "stream_label": "2020-12-20T06:27:37.294",
            "stream_view_type": "NEW_AND_OLD_IMAGES",
            "tags": {},
            "timeouts": null,
            "ttl": [
              {
                "attribute_name": "ttl",
                "enabled": true
              }
            ],
            "write_capacity": 5
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjM2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_dynamodb_table",
      "name": "consoleme_users_global",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:dynamodb:us-east-1:154724799477:table/consoleme_users_global",
            "attribute": [
              {
                "name": "username",
                "type": "S"
              }
            ],
            "billing_mode": "PROVISIONED",
            "global_secondary_index": [],
            "hash_key": "username",
            "id": "consoleme_users_global",
            "local_secondary_index": [],
            "name": "consoleme_users_global",
            "point_in_time_recovery": [
              {
                "enabled": true
              }
            ],
            "range_key": null,
            "read_capacity": 5,
            "replica": [],
            "server_side_encryption": [],
            "stream_arn": "arn:aws:dynamodb:us-east-1:154724799477:table/consoleme_users_global/stream/2020-12-20T06:27:42.603",
            "stream_enabled": true,
            "stream_label": "2020-12-20T06:27:42.603",
            "stream_view_type": "NEW_AND_OLD_IMAGES",
            "tags": {},
            "timeouts": null,
            "ttl": [
              {
                "attribute_name": "",
                "enabled": false
              }
            ],
            "write_capacity": 5
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjM2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_instance_profile",
      "name": "ConsoleMeInstanceProfile",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::154724799477:instance-profile/consolemeInstanceProfile",
            "create_date": "2020-12-20T06:27:44Z",
            "id": "consolemeInstanceProfile",
            "name": "consolemeInstanceProfile",
            "name_prefix": null,
            "path": "/",
            "role": "consolemeInstanceProfile",
            "unique_id": "AIPASIBSRCP2ZZLQK3GPO"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.ConsoleMeInstanceProfile"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "ConsoleMeInstanceProfile",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::154724799477:role/consolemeInstanceProfile",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"AssumeRoleEC2\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2020-12-16T21:50:22Z",
            "description": "",
            "force_detach_policies": false,
            "id": "consolemeInstanceProfile",
            "max_session_duration": 3600,
            "name": "consolemeInstanceProfile",
            "name_prefix": null,
            "path": "/",
            "permissions_boundary": null,
            "tags": {},
            "unique_id": "AROASIBSRCP2YCCCXUX7Q"
          },
          "dependencies": [
            "data.aws_iam_policy_document.ConsoleMe_trust_policy"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "consoleme_example_app_role_1",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::154724799477:role/ConsoleMeAppA",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"ConsoleMeAssumesTarget\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::154724799477:role/consolemeInstanceProfile\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2020-12-20T06:27:36Z",
            "description": "",
            "force_detach_policies": false,
            "id": "ConsoleMeAppA",
            "max_session_duration": 3600,
            "name": "ConsoleMeAppA",
            "name_prefix": null,
            "path": "/",
            "permissions_boundary": null,
            "tags": {
              "consoleme-authorized-cli-only": "groupa@example.com"
            },
            "unique_id": "AROASIBSRCP2TJSKYG7QS"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_iam_policy_document.consoleme_target_trust_policy"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "consoleme_example_app_role_2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::154724799477:role/ConsoleMeAppB",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"ConsoleMeAssumesTarget\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::154724799477:role/consolemeInstanceProfile\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2020-12-20T06:27:34Z",
            "description": "",
            "force_detach_policies": false,
            "id": "ConsoleMeAppB",
            "max_session_duration": 3600,
            "name": "ConsoleMeAppB",
            "name_prefix": null,
            "path": "/",
            "permissions_boundary": null,
            "tags": {
              "consoleme-authorized-cli-only": "groupa@example.com:groupb@example.com"
            },
            "unique_id": "AROASIBSRCP2SRF7FEUNT"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_iam_policy_document.consoleme_target_trust_policy"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "consoleme_example_user_role_1",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::154724799477:role/ConsoleMeUserA",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"ConsoleMeAssumesTarget\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::154724799477:role/consolemeInstanceProfile\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2020-12-20T06:27:36Z",
            "description": "",
            "force_detach_policies": false,
            "id": "ConsoleMeUserA",
            "max_session_duration": 3600,
            "name": "ConsoleMeUserA",
            "name_prefix": null,
            "path": "/",
            "permissions_boundary": null,
            "tags": {
              "consoleme-authorized": "consoleme_admins@example.com"
            },
            "unique_id": "AROASIBSRCP2RJIQ7L2TS"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_iam_policy_document.consoleme_target_trust_policy"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "consoleme_example_user_role_2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::154724799477:role/ConsoleMeUserB",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"ConsoleMeAssumesTarget\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::154724799477:role/consolemeInstanceProfile\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2020-12-20T06:27:47Z",
            "description": "",
            "force_detach_policies": false,
            "id": "ConsoleMeUserB",
            "max_session_duration": 3600,
            "name": "ConsoleMeUserB",
            "name_prefix": null,
            "path": "/",
            "permissions_boundary": null,
            "tags": {
              "consoleme-authorized": "configeditors@example.com:consoleme_admins@example.com"
            },
            "unique_id": "AROASIBSRCP2ZNZVTOZN5"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_iam_policy_document.consoleme_target_trust_policy"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "consoleme_target",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::154724799477:role/ConsoleMeTarget",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"ConsoleMeAssumesTarget\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::154724799477:role/consolemeInstanceProfile\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2020-12-20T06:27:34Z",
            "description": "",
            "force_detach_policies": false,
            "id": "ConsoleMeTarget",
            "max_session_duration": 3600,
            "name": "ConsoleMeTarget",
            "name_prefix": null,
            "path": "/",
            "permissions_boundary": null,
            "tags": {},
            "unique_id": "AROASIBSRCP26M6XIQTDE"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.aws_iam_policy_document.consoleme_target_trust_policy"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "consoleme_app_role_policy1",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "ConsoleMeAppA:ConsoleMeTargetPolicy",
            "name": "ConsoleMeTargetPolicy",
            "name_prefix": null,
            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"ConsoleMeWillAssumeThis\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"*\"\n    }\n  ]\n}",
            "role": "ConsoleMeAppA"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.consoleme_example_app_role_1",
            "data.aws_iam_policy_document.consoleme_target_trust_policy",
            "data.aws_iam_policy_document.consoleme_user_deny_all"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "consoleme_app_role_policy2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "ConsoleMeAppB:ConsoleMeTargetPolicy",
            "name": "ConsoleMeTargetPolicy",
            "name_prefix": null,
            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"ConsoleMeWillAssumeThis\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"*\"\n    }\n  ]\n}",
            "role": "ConsoleMeAppB"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.consoleme_example_app_role_2",
            "data.aws_iam_policy_document.consoleme_target_trust_policy",
            "data.aws_iam_policy_document.consoleme_user_deny_all"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "consoleme_target",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "consolemeInstanceProfile:ConsoleMeInstanceProfilePolicy",
            "name": "ConsoleMeInstanceProfilePolicy",
            "name_prefix": null,
            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"CentralAccountPermissions\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"sts:assumerole\",\n        \"sqs:*\",\n        \"sns:*\",\n        \"s3:GetObject\",\n        \"iam:list*\",\n        \"dynamodb:*\",\n        \"config:*\",\n        \"cloudwatch:*\",\n        \"cloudtrail:*\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Sid\": \"SendEmail\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ses:sendrawemail\",\n        \"ses:sendemail\"\n      ],\n      \"Resource\": \"arn:aws:ses:*:154724799477:identity/your_identity.example.com\",\n      \"Condition\": {\n        \"StringLike\": {\n          \"ses:FromAddress\": \"email_address_here@example.com\"\n        }\n      }\n    }\n  ]\n}",
            "role": "consolemeInstanceProfile"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.ConsoleMeInstanceProfile",
            "data.aws_iam_policy_document.ConsoleMeInstanceProfile"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "consoleme_target_role_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "ConsoleMeTarget:ConsoleMeTargetPolicy",
            "name": "ConsoleMeTargetPolicy",
            "name_prefix": null,
            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"ConsoleMeWillAccessThis\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"sqs:UntagQueue\",\n        \"sqs:TagQueue\",\n        \"sqs:SetQueueAttributes\",\n        \"sqs:ListQueues\",\n        \"sqs:ListQueueTags\",\n        \"sqs:GetQueueUrl\",\n        \"sqs:GetQueueAttributes\",\n        \"sns:UnTagResource\",\n        \"sns:TagResource\",\n        \"sns:SetTopicAttributes\",\n        \"sns:ListTopics\",\n        \"sns:ListTagsForResource\",\n        \"sns:GetTopicAttributes\",\n        \"servicequotas:*\",\n        \"s3:PutBucketTagging\",\n        \"s3:PutBucketPolicy\",\n        \"s3:ListBucket\",\n        \"s3:ListAllMyBuckets\",\n        \"s3:GetObject\",\n        \"s3:GetBucketTagging\",\n        \"s3:GetBucketPolicy\",\n        \"iam:*\",\n        \"ec2:describevpcendpoints\",\n        \"ec2:DescribeVpcs\",\n        \"ec2:DescribeSubnets\",\n        \"ec2:DescribeInstances\",\n        \"config:Select*\",\n        \"config:List*\",\n        \"config:BatchGet*\",\n        \"cloudwatch:List*\",\n        \"cloudwatch:Get*\",\n        \"autoscaling:Describe*\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}",
            "role": "ConsoleMeTarget"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.consoleme_target",
            "data.aws_iam_policy_document.consoleme_target",
            "data.aws_iam_policy_document.consoleme_target_trust_policy"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "consoleme_user_role_policy1",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "ConsoleMeUserA:ConsoleMeTargetPolicy",
            "name": "ConsoleMeTargetPolicy",
            "name_prefix": null,
            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"ConsoleMeWillAssumeThis\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"*\"\n    }\n  ]\n}",
            "role": "ConsoleMeUserA"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.consoleme_example_user_role_1",
            "data.aws_iam_policy_document.consoleme_target_trust_policy",
            "data.aws_iam_policy_document.consoleme_user_deny_all"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "consoleme_user_role_policy2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "ConsoleMeUserB:ConsoleMeTargetPolicy",
            "name": "ConsoleMeTargetPolicy",
            "name_prefix": null,
            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"ConsoleMeWillAssumeThis\",\n      \"Effect\": \"Deny\",\n      \"Action\": \"*\",\n      \"Resource\": \"*\"\n    }\n  ]\n}",
            "role": "ConsoleMeUserB"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.consoleme_example_user_role_2",
            "data.aws_iam_policy_document.consoleme_target_trust_policy",
            "data.aws_iam_policy_document.consoleme_user_deny_all"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "ssm",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "consolemeInstanceProfile-20201220062746999300000001",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonSSMManagedInstanceCore",
            "role": "consolemeInstanceProfile"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_role.ConsoleMeInstanceProfile"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb",
      "name": "public-to-private-lb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_logs": [
              {
                "bucket": "",
                "enabled": false,
                "prefix": ""
              }
            ],
            "arn": "arn:aws:elasticloadbalancing:us-east-1:154724799477:loadbalancer/app/consoleme-lb/d32fe99814dd7cd4",
            "arn_suffix": "app/consoleme-lb/d32fe99814dd7cd4",
            "customer_owned_ipv4_pool": "",
            "dns_name": "consoleme-lb-701307871.us-east-1.elb.amazonaws.com",
            "drop_invalid_header_fields": false,
            "enable_cross_zone_load_balancing": null,
            "enable_deletion_protection": false,
            "enable_http2": true,
            "id": "arn:aws:elasticloadbalancing:us-east-1:154724799477:loadbalancer/app/consoleme-lb/d32fe99814dd7cd4",
            "idle_timeout": 60,
            "internal": false,
            "ip_address_type": "ipv4",
            "load_balancer_type": "application",
            "name": "consoleme-lb",
            "name_prefix": null,
            "security_groups": [
              "sg-073b1f7ac0edda345"
            ],
            "subnet_mapping": [
              {
                "allocation_id": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-0c4d74ecacef9b593"
              },
              {
                "allocation_id": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-0f03c4aca2dd68972"
              }
            ],
            "subnets": [
              "subnet-0c4d74ecacef9b593",
              "subnet-0f03c4aca2dd68972"
            ],
            "tags": {},
            "timeouts": null,
            "vpc_id": "vpc-05f67a7eecc868262",
            "zone_id": "Z35SXDOTRQ7X7K"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "aws_security_group.lb-sg",
            "module.network.aws_subnet.public",
            "module.network.aws_vpc.this",
            "module.network.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_listener",
      "name": "public-8081",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:elasticloadbalancing:us-east-1:154724799477:listener/app/consoleme-lb/d32fe99814dd7cd4/c19e2c61e9bf08cb",
            "certificate_arn": "arn:aws:acm:us-east-1:154724799477:certificate/b8a28e9b-276c-4eb7-8f4f-68bee997f37d",
            "default_action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [
                  {
                    "authentication_request_extra_params": {},
                    "authorization_endpoint": "https://accounts.google.com/o/oauth2/auth",
                    "client_id": "150686249207-t0a8tqjeosi8tnb3aku7d8iiidsejpo7.apps.googleusercontent.com",
                    "client_secret": "myAz-7Gusb6D75IAGZiWaT2V",
                    "issuer": "https://accounts.google.com",
                    "on_unauthenticated_request": "authenticate",
                    "scope": "https://www.googleapis.com/auth/admin.directory.group.readonly email openid",
                    "session_cookie_name": "AWSELBAuthSessionCookie",
                    "session_timeout": 604800,
                    "token_endpoint": "https://oauth2.googleapis.com/token",
                    "user_info_endpoint": "https://www.googleapis.com/oauth2/v3/userinfo"
                  }
                ],
                "fixed_response": [],
                "forward": [],
                "order": 1,
                "redirect": [],
                "target_group_arn": "",
                "type": "authenticate-oidc"
              },
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [],
                "forward": [],
                "order": 2,
                "redirect": [],
                "target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:154724799477:targetgroup/consoleme-servers/238cf50143619d25",
                "type": "forward"
              }
            ],
            "id": "arn:aws:elasticloadbalancing:us-east-1:154724799477:listener/app/consoleme-lb/d32fe99814dd7cd4/c19e2c61e9bf08cb",
            "load_balancer_arn": "arn:aws:elasticloadbalancing:us-east-1:154724799477:loadbalancer/app/consoleme-lb/d32fe99814dd7cd4",
            "port": 443,
            "protocol": "HTTPS",
            "ssl_policy": "ELBSecurityPolicy-2016-08",
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsicmVhZCI6NjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "aws_acm_certificate.lb-self-signed",
            "aws_lb.public-to-private-lb",
            "aws_lb_target_group.consoleme-servers",
            "aws_security_group.lb-sg",
            "module.network.aws_subnet.public",
            "module.network.aws_vpc.this",
            "module.network.aws_vpc_ipv4_cidr_block_association.this",
            "tls_private_key.lb-self-signed",
            "tls_self_signed_cert.lb-self-signed"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_listener_rule",
      "name": "unauthenticated-routes-1",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [],
                "forward": [],
                "order": 1,
                "redirect": [],
                "target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:154724799477:targetgroup/consoleme-servers/238cf50143619d25",
                "type": "forward"
              }
            ],
            "arn": "arn:aws:elasticloadbalancing:us-east-1:154724799477:listener-rule/app/consoleme-lb/d32fe99814dd7cd4/c19e2c61e9bf08cb/dcff5e78a92bdb05",
            "condition": [
              {
                "host_header": [],
                "http_header": [],
                "http_request_method": [],
                "path_pattern": [
                  {
                    "values": [
                      "/api/v1/get_credentials?",
                      "/api/v1/get_roles?",
                      "/api/v2/mtls/roles/*",
                      "/noauth/v1/challenge_generator/*",
                      "/noauth/v1/challenge_poller/*"
                    ]
                  }
                ],
                "query_string": [],
                "source_ip": []
              }
            ],
            "id": "arn:aws:elasticloadbalancing:us-east-1:154724799477:listener-rule/app/consoleme-lb/d32fe99814dd7cd4/c19e2c61e9bf08cb/dcff5e78a92bdb05",
            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:154724799477:listener/app/consoleme-lb/d32fe99814dd7cd4/c19e2c61e9bf08cb",
            "priority": 1
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_acm_certificate.lb-self-signed",
            "aws_lb.public-to-private-lb",
            "aws_lb_listener.public-8081",
            "aws_lb_target_group.consoleme-servers",
            "aws_security_group.lb-sg",
            "module.network.aws_subnet.public",
            "module.network.aws_vpc.this",
            "module.network.aws_vpc_ipv4_cidr_block_association.this",
            "tls_private_key.lb-self-signed",
            "tls_self_signed_cert.lb-self-signed"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_listener_rule",
      "name": "unauthenticated-routes-2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [],
                "forward": [],
                "order": 1,
                "redirect": [],
                "target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:154724799477:targetgroup/consoleme-servers/238cf50143619d25",
                "type": "forward"
              }
            ],
            "arn": "arn:aws:elasticloadbalancing:us-east-1:154724799477:listener-rule/app/consoleme-lb/d32fe99814dd7cd4/c19e2c61e9bf08cb/9e0b6902bfea2708",
            "condition": [
              {
                "host_header": [],
                "http_header": [],
                "http_request_method": [],
                "path_pattern": [
                  {
                    "values": [
                      "/api/v1/myheaders/?"
                    ]
                  }
                ],
                "query_string": [],
                "source_ip": []
              }
            ],
            "id": "arn:aws:elasticloadbalancing:us-east-1:154724799477:listener-rule/app/consoleme-lb/d32fe99814dd7cd4/c19e2c61e9bf08cb/9e0b6902bfea2708",
            "listener_arn": "arn:aws:elasticloadbalancing:us-east-1:154724799477:listener/app/consoleme-lb/d32fe99814dd7cd4/c19e2c61e9bf08cb",
            "priority": 2
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_acm_certificate.lb-self-signed",
            "aws_lb.public-to-private-lb",
            "aws_lb_listener.public-8081",
            "aws_lb_target_group.consoleme-servers",
            "aws_security_group.lb-sg",
            "module.network.aws_subnet.public",
            "module.network.aws_vpc.this",
            "module.network.aws_vpc_ipv4_cidr_block_association.this",
            "tls_private_key.lb-self-signed",
            "tls_self_signed_cert.lb-self-signed"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_target_group",
      "name": "consoleme-servers",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:elasticloadbalancing:us-east-1:154724799477:targetgroup/consoleme-servers/238cf50143619d25",
            "arn_suffix": "targetgroup/consoleme-servers/238cf50143619d25",
            "deregistration_delay": 300,
            "health_check": [
              {
                "enabled": true,
                "healthy_threshold": 5,
                "interval": 30,
                "matcher": "200",
                "path": "/",
                "port": "traffic-port",
                "protocol": "HTTP",
                "timeout": 5,
                "unhealthy_threshold": 2
              }
            ],
            "id": "arn:aws:elasticloadbalancing:us-east-1:154724799477:targetgroup/consoleme-servers/238cf50143619d25",
            "lambda_multi_value_headers_enabled": false,
            "load_balancing_algorithm_type": "round_robin",
            "name": "consoleme-servers",
            "name_prefix": null,
            "port": 8081,
            "protocol": "HTTP",
            "proxy_protocol_v2": false,
            "slow_start": 0,
            "stickiness": [
              {
                "cookie_duration": 86400,
                "enabled": false,
                "type": "lb_cookie"
              }
            ],
            "tags": {},
            "target_type": "instance",
            "vpc_id": "vpc-05f67a7eecc868262"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.network.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_lb_target_group_attachment",
      "name": "test",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "availability_zone": null,
            "id": "arn:aws:elasticloadbalancing:us-east-1:154724799477:targetgroup/consoleme-servers/238cf50143619d25-20201220063542235800000001",
            "port": 8081,
            "target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:154724799477:targetgroup/consoleme-servers/238cf50143619d25",
            "target_id": "i-02c8f3c9642f8744d"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_instance_profile.ConsoleMeInstanceProfile",
            "aws_lb_target_group.consoleme-servers",
            "aws_s3_bucket.consoleme_files_bucket",
            "aws_s3_bucket_object.consoleme_config",
            "aws_s3_bucket_object.consoleme_zip",
            "aws_security_group.server",
            "data.aws_ami.amazon_linux",
            "data.template_file.consoleme_config",
            "data.template_file.consoleme_userdata",
            "module.kms_ebs.aws_kms_key.default",
            "module.network.aws_subnet.private",
            "module.server.aws_instance.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "consoleme_files_bucket",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acceleration_status": "",
            "acl": "private",
            "arn": "arn:aws:s3:::your-name-prefix-lrhb",
            "bucket": "your-name-prefix-lrhb",
            "bucket_domain_name": "your-name-prefix-lrhb.s3.amazonaws.com",
            "bucket_prefix": null,
            "bucket_regional_domain_name": "your-name-prefix-lrhb.s3.amazonaws.com",
            "cors_rule": [],
            "force_destroy": true,
            "grant": [],
            "hosted_zone_id": "Z3AQBSTGFYJSTF",
            "id": "your-name-prefix-lrhb",
            "lifecycle_rule": [],
            "logging": [],
            "object_lock_configuration": [],
            "policy": null,
            "region": "us-east-1",
            "replication_configuration": [],
            "request_payer": "BucketOwner",
            "server_side_encryption_configuration": [
              {
                "rule": [
                  {
                    "apply_server_side_encryption_by_default": [
                      {
                        "kms_master_key_id": "",
                        "sse_algorithm": "AES256"
                      }
                    ]
                  }
                ]
              }
            ],
            "tags": {
              "Name": "your-name-prefix"
            },
            "versioning": [
              {
                "enabled": false,
                "mfa_delete": false
              }
            ],
            "website": [],
            "website_domain": null,
            "website_endpoint": null
          },
          "private": "bnVsbA==",
          "dependencies": [
            "random_string.omnipotence"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket_object",
      "name": "consoleme_config",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acl": "private",
            "bucket": "your-name-prefix-lrhb",
            "cache_control": "",
            "content": "extends:\n  - example_config_base.yaml\n\ntornado:\n  debug: true\n  port: 8081\n  xsrf: true\n  uvloop: false\n\nchallenge_url:\n  enabled: true\n\n# Enter your team's e-mail address here. This e-mail will be used as the default approvers of IAM policy requests\napplication_admin: y@indeni.com\ndevelopment: false\nenvironment: prod\n\nlogging:\n  stdout_enabled: true\n  format: \"%(asctime)s - %(levelname)s - %(name)s - [%(filename)s:%(lineno)s - %(funcName)s() ] - %(message)s\"\n  level: debug\n  file: /logs/consoleme/consoleme_tornado.log\n\naccount_ids_to_name:\n  \"154724799477\": default_account\n\ncache_cloud_accounts:\n  from_aws_organizations: false\n\ncache_accounts_from_aws_organizations:\n  organizations_master_account_id: \"154724799477\"\n  organizations_master_role_to_assume: \"ConsoleMeTarget\"\n\ncloud_credential_authorization_mapping:\n  role_tags:\n    enabled: true\n    required_trust_policy_entity: arn:aws:iam::154724799477:role/consolemeInstanceProfile\n    authorized_groups_tags:\n      - consoleme-authorized\n    authorized_groups_cli_only_tags:\n      - consoleme-authorized-cli-only\n  dynamic_config:\n    enabled: true\n  internal_plugin:\n    enabled: false\n\n# You'll probably want to override default_plugins logic to generate this data with your own business logic.\napplication_settings:\n  application_1:\n    owner: y@indeni.com\n    owner_url: https://www.example.com/groupa@example.com\n    app_url: https://www.example.com/ci_cd_pipeline/application_1\n    roles:\n      - arn:aws:iam::154724799477:role/ConsoleMeAppA\n  application_2:\n    owner: y@indeni.com\n    owner_url: https://www.example.com/groupb@example.com\n    app_url: https://www.example.com/ci_cd_pipeline/application_2\n    roles:\n      - arn:aws:iam::154724799477:role/ConsoleMeAppB\n\ndynamic_config:\n  # You can set this key in http://YOUR_CONSOLEME_DOMAIN/config as a rudimentary way to allow groups to access\n  # roles before you override get_eligible_roles with your own custom logic\n  group_mapping:\n    y@indeni.com:\n      roles:\n        - arn:aws:iam::154724799477:role/ConsoleMeUserA\n        - arn:aws:iam::154724799477:role/ConsoleMeUserB\n\npolicies:\n  role_name: ConsoleMeTarget\n\ncelery:\n  active_region: us-east-1\n\nauth:\n  get_user_by_aws_alb_auth: true\n  set_auth_cookie: true\n\nget_user_by_aws_alb_auth_settings:\n  jwt_email_key: email\n  jwt_groups_key: groups\n\njwt_secret: secret\nurl: https://consoleme-lb-701307871.us-east-1.elb.amazonaws.com:443\n",
            "content_base64": null,
            "content_disposition": "",
            "content_encoding": "",
            "content_language": "",
            "content_type": "binary/octet-stream",
            "etag": "7e9833ad47655480831602341567f030",
            "force_destroy": false,
            "id": "config.yaml",
            "key": "config.yaml",
            "kms_key_id": null,
            "metadata": {},
            "object_lock_legal_hold_status": "",
            "object_lock_mode": "",
            "object_lock_retain_until_date": "",
            "server_side_encryption": "AES256",
            "source": null,
            "storage_class": "STANDARD",
            "tags": {},
            "version_id": "",
            "website_redirect": ""
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_s3_bucket.consoleme_files_bucket",
            "data.template_file.consoleme_config"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_s3_bucket_object",
      "name": "consoleme_zip",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acl": "private",
            "bucket": "your-name-prefix-lrhb",
            "cache_control": "",
            "content": null,
            "content_base64": null,
            "content_disposition": "",
            "content_encoding": "",
            "content_language": "",
            "content_type": "binary/octet-stream",
            "etag": "02b1c953a79348bdf893709c16040181",
            "force_destroy": false,
            "id": "consoleme.tar.gz",
            "key": "consoleme.tar.gz",
            "kms_key_id": null,
            "metadata": {},
            "object_lock_legal_hold_status": "",
            "object_lock_mode": "",
            "object_lock_retain_until_date": "",
            "server_side_encryption": "AES256",
            "source": "./consoleme.tar.gz",
            "storage_class": "STANDARD",
            "tags": {},
            "version_id": "",
            "website_redirect": ""
          },
          "private": "bnVsbA==",
          "dependencies": [
            "aws_s3_bucket.consoleme_files_bucket"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "lb-sg",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:154724799477:security-group/sg-073b1f7ac0edda345",
            "description": "Allows access to the load balancer, which forwards to the ConsoleMe server.",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-073b1f7ac0edda345",
            "ingress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "HTTPS for accessing ConsoleMe",
                "from_port": 443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 443
              }
            ],
            "name": "allow_access_to_consoleme",
            "name_prefix": "",
            "owner_id": "154724799477",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "allow_access_to_consoleme"
            },
            "timeouts": null,
            "vpc_id": "vpc-05f67a7eecc868262"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "module.network.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group",
      "name": "server",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:154724799477:security-group/sg-0b0ffe6a5eeb85e24",
            "description": "Allow ingress from authorized IPs to self, and egress to everywhere.",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 65535
              }
            ],
            "id": "sg-0b0ffe6a5eeb85e24",
            "ingress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 8081,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 8081
              },
              {
                "cidr_blocks": [
                  "10.1.1.0/24"
                ],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "name": "sfdc-somestage-consoleme-sg",
            "name_prefix": "",
            "owner_id": "154724799477",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "sfdc-somestage-consoleme-sg",
              "Namespace": "sfdc",
              "Stage": "somestage"
            },
            "timeouts": null,
            "vpc_id": "vpc-05f67a7eecc868262"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "module.network.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "external_egress_allow_all",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [
              "0.0.0.0/0"
            ],
            "description": "",
            "from_port": 0,
            "id": "sgrule-3038202495",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-0b0ffe6a5eeb85e24",
            "self": false,
            "source_security_group_id": null,
            "to_port": 65535,
            "type": "egress"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.server",
            "module.network.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "external_ingress_8081",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [
              "0.0.0.0/0"
            ],
            "description": "",
            "from_port": 8081,
            "id": "sgrule-2886008128",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "tcp",
            "security_group_id": "sg-0b0ffe6a5eeb85e24",
            "self": false,
            "source_security_group_id": null,
            "to_port": 8081,
            "type": "ingress"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.server",
            "module.network.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "internal_ingress_all_self",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "cidr_blocks": [
              "10.1.1.0/24"
            ],
            "description": "",
            "from_port": 0,
            "id": "sgrule-3282336397",
            "ipv6_cidr_blocks": [],
            "prefix_list_ids": [],
            "protocol": "-1",
            "security_group_id": "sg-0b0ffe6a5eeb85e24",
            "self": false,
            "source_security_group_id": null,
            "to_port": 0,
            "type": "ingress"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "aws_security_group.server",
            "module.network.aws_vpc.this"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "random_string",
      "name": "omnipotence",
      "provider": "provider[\"registry.terraform.io/hashicorp/random\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "id": "lrhb",
            "keepers": null,
            "length": 4,
            "lower": true,
            "min_lower": 0,
            "min_numeric": 0,
            "min_special": 0,
            "min_upper": 0,
            "number": false,
            "override_special": null,
            "result": "lrhb",
            "special": false,
            "upper": false
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "tls_private_key",
      "name": "lb-self-signed",
      "provider": "provider[\"registry.terraform.io/hashicorp/tls\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "algorithm": "RSA",
            "ecdsa_curve": "P224",
            "id": "f98702db9df7732f96f86f2248209c6d84f8e399",
            "private_key_pem": "-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEAqdm7BfJb2kdzJR4wnsxHDgQMAWWDpMfoxkSVFOrO4r8s8tml\neA2pzsXATEYcfE0qWR58AXkhNTAz7VLTTdMRN0RS/HV5AHO6L0Q/aTjT8F7cKo1a\nRhz41TvBugE80PqdK6cyjBoSW/Z4DEGeFvx649sVpDSsUXhpyuKWMCrtfBF6RfkA\n0cfHkxz0Hwgulk69utWBG8GXOYcHS2oGlu9YNBzkd3uqAV0w+TpflZ1iEtMkRx0g\nldWZ8i4vyB01SDkpkKktvPsv9oHKTBmEHBu5uDv1DHiLu3EvonVT3uLuxfjEk1B8\nkFpZAEiJCwy6fL0RJQGZgZmczvQai1pXVX/hBwIDAQABAoIBAQCn1DmlnZ2/KHyR\nP6yBLI5FPiByvNEAYHwUdS3uFjpI+Og8Km0DHFUeuG3TsC9zb3gZyTJ07jCu8qtM\npFugeZ94Qa3SQW1H0hI1pDUYDov05nacIUIDJ5uEb2B0H8btI8VrnfEnWJetgPOM\nAMZqJh5zyUYwE8/1TIsUayJGBBTXUnzCR5bY+vxPKjZYbn0S7VMWBf6PntZPGhqz\n0bQ+pkfvOWq4iDsPdlGxXiGChzHta/R6QLfUBMesT5Rhs3oBzbB0ytkQjtRFL7o2\nyQF/BccE5Jwlnzujzw31Uq+V0K+pZnfkNH/ymcc3duGM9eIVqDOrEPdQM13BCRS+\nf9vGxdoBAoGBAN7uP9zjAjUXb2Xo2mG3wqOM6mIlV6vj36swquygtYAcGM1xXg+z\njE1ut6ug/wJk5dtFyeMZtTvQYf+IbCCZ4xXcidQcSplABdkmDHZ04v8HgJxDgRoh\nBTQGmKTwLgP7OApo4wzBDGcVsxS92+PxlvjqLWJV2nrLmfcR4VFAzTMBAoGBAMML\nxazzJAijEOP5glmlgyXrS04QH8G7HbFiU4J/+n69nKRKCFHy8wEzEs+YEAYOl404\nsopmcMUaClSnMCiq39isAluMIB5D82xTXLbG1KQVRKWLT3Ig+r5ByvYYwZnpjVFw\nEfdQintPbTfZZQpZP/eiX6ohZfa4NaWnBQTOL3wHAoGAaOUn7ZJvNnYJd6VCJFqn\n3fbvTjEN+JZnZxCmTGMuI9KUpQ5j2PV93e1rxPkjJIg/U5aZ8R7mlPdvNSKG5iwi\nmuXDgKezPjrOxadOk+pZ6PApxt1IgPfqj9lOt8U/kaYCb3t84kJvyI2ATxEqxy2l\nAQiHRE7rV343uvaR036vTwECgYBoNjoAFkkCdF3p8L48t7pC4Fzz8JmHITrUM/z6\nlPZ6EUVIYmXfozdDRM6gLFcjZViEE+8RE3rdVPSAFnQcxm+jjQQVdeETSqsdDc1T\nuxiSMuriqHRiPky6qtyOcNvAKJFhGcf/pADZsa5hUL4zsUwEO7VxaTbZg8LmJz7/\nOksUsQKBgQDU2WHgF3E+0Jzq2yn+FLg/Jq3erQhvV+pXK1WEwt1GS2HcGyXsPA0p\nqKxTs0q37yjP6H76IN2KXc7r29KGUlg++9+JlOLDHLt/2KhEL1T4LYsITeeM4ZRS\nPCfwwf285Fe21WHC3x6i0r4m3vbNfqjJ0qd3/oCUc6qEcVXkgPgz5Q==\n-----END RSA PRIVATE KEY-----\n",
            "public_key_fingerprint_md5": "3d:a1:c6:3b:ec:a4:47:ce:fa:0c:86:5c:e2:e6:96:4f",
            "public_key_openssh": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCp2bsF8lvaR3MlHjCezEcOBAwBZYOkx+jGRJUU6s7ivyzy2aV4DanOxcBMRhx8TSpZHnwBeSE1MDPtUtNN0xE3RFL8dXkAc7ovRD9pONPwXtwqjVpGHPjVO8G6ATzQ+p0rpzKMGhJb9ngMQZ4W/Hrj2xWkNKxReGnK4pYwKu18EXpF+QDRx8eTHPQfCC6WTr261YEbwZc5hwdLagaW71g0HOR3e6oBXTD5Ol+VnWIS0yRHHSCV1ZnyLi/IHTVIOSmQqS28+y/2gcpMGYQcG7m4O/UMeIu7cS+idVPe4u7F+MSTUHyQWlkASIkLDLp8vRElAZmBmZzO9BqLWldVf+EH\n",
            "public_key_pem": "-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqdm7BfJb2kdzJR4wnsxH\nDgQMAWWDpMfoxkSVFOrO4r8s8tmleA2pzsXATEYcfE0qWR58AXkhNTAz7VLTTdMR\nN0RS/HV5AHO6L0Q/aTjT8F7cKo1aRhz41TvBugE80PqdK6cyjBoSW/Z4DEGeFvx6\n49sVpDSsUXhpyuKWMCrtfBF6RfkA0cfHkxz0Hwgulk69utWBG8GXOYcHS2oGlu9Y\nNBzkd3uqAV0w+TpflZ1iEtMkRx0gldWZ8i4vyB01SDkpkKktvPsv9oHKTBmEHBu5\nuDv1DHiLu3EvonVT3uLuxfjEk1B8kFpZAEiJCwy6fL0RJQGZgZmczvQai1pXVX/h\nBwIDAQAB\n-----END PUBLIC KEY-----\n",
            "rsa_bits": 2048
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "tls_self_signed_cert",
      "name": "lb-self-signed",
      "provider": "provider[\"registry.terraform.io/hashicorp/tls\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allowed_uses": [
              "key_encipherment",
              "digital_signature",
              "server_auth"
            ],
            "cert_pem": "-----BEGIN CERTIFICATE-----\nMIIDJTCCAg2gAwIBAgIQdiYQVFXYuBg5M77YAm4+ljANBgkqhkiG9w0BAQsFADAz\nMRswGQYDVQQKExJBQ01FIEV4YW1wbGVzLCBJbmMxFDASBgNVBAMTC2V4YW1wbGUu\nY29tMB4XDTIwMTIyMDA2MjczMFoXDTIxMTIyMDA2MjczMFowMzEbMBkGA1UEChMS\nQUNNRSBFeGFtcGxlcywgSW5jMRQwEgYDVQQDEwtleGFtcGxlLmNvbTCCASIwDQYJ\nKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKnZuwXyW9pHcyUeMJ7MRw4EDAFlg6TH\n6MZElRTqzuK/LPLZpXgNqc7FwExGHHxNKlkefAF5ITUwM+1S003TETdEUvx1eQBz\nui9EP2k40/Be3CqNWkYc+NU7wboBPND6nSunMowaElv2eAxBnhb8euPbFaQ0rFF4\nacriljAq7XwRekX5ANHHx5Mc9B8ILpZOvbrVgRvBlzmHB0tqBpbvWDQc5Hd7qgFd\nMPk6X5WdYhLTJEcdIJXVmfIuL8gdNUg5KZCpLbz7L/aBykwZhBwbubg79Qx4i7tx\nL6J1U97i7sX4xJNQfJBaWQBIiQsMuny9ESUBmYGZnM70GotaV1V/4QcCAwEAAaM1\nMDMwDgYDVR0PAQH/BAQDAgWgMBMGA1UdJQQMMAoGCCsGAQUFBwMBMAwGA1UdEwEB\n/wQCMAAwDQYJKoZIhvcNAQELBQADggEBAGb75KtqK5SDuFuZh5BNa3e/3Ur+ysOF\niRLJTC11iWkwE0WHl3PO7opX54WAt1+o/vWqP2l+LL0kTykbGCdaVFsHKq2dUHDa\nzZMYfbhzE0kjmyHuujhgLs4uCsuJtTMkDMR0xDoBxDkMHwFW2LSXiplpCvTVschA\nVRDzrAJV4EMAt1Q1oera13RnOnw/CrSlC+MgjAoE8AadyLs49V27I8PxbT02/pY9\n0L5ocgQCsa/8bfEl/pDxYPT6p6OlbfXMJaezQqkB0KTg3dXFsymt/Xr9cgkTFv5G\n4B51vBeDLLJKZYa+8eVVn2DEiyeI/fN2W39Y3lZVnPkrqur2AS9MGaw=\n-----END CERTIFICATE-----\n",
            "dns_names": null,
            "early_renewal_hours": 0,
            "id": "157046541983531929251592177433332039318",
            "ip_addresses": null,
            "is_ca_certificate": null,
            "key_algorithm": "RSA",
            "private_key_pem": "fbad73e3a95f2f3c717cc77835defc9590c08fd7",
            "ready_for_renewal": false,
            "set_subject_key_id": null,
            "subject": [
              {
                "common_name": "example.com",
                "country": "",
                "locality": "",
                "organization": "ACME Examples, Inc",
                "organizational_unit": "",
                "postal_code": "",
                "province": "",
                "serial_number": "",
                "street_address": []
              }
            ],
            "uris": null,
            "validity_end_time": "2021-12-19T22:27:30.97688-08:00",
            "validity_period_hours": 8760,
            "validity_start_time": "2020-12-19T22:27:30.97688-08:00"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "tls_private_key.lb-self-signed"
          ]
        }
      ]
    },
    {
      "module": "module.kms_ebs",
      "mode": "managed",
      "type": "aws_kms_alias",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:kms:us-east-1:154724799477:alias/consoleme",
            "id": "alias/consoleme",
            "name": "alias/consoleme",
            "name_prefix": null,
            "target_key_arn": "arn:aws:kms:us-east-1:154724799477:key/43df6bd9-e23c-4f23-8877-8930aa0c949c",
            "target_key_id": "43df6bd9-e23c-4f23-8877-8930aa0c949c"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.kms_ebs.aws_kms_key.default"
          ]
        }
      ]
    },
    {
      "module": "module.kms_ebs",
      "mode": "managed",
      "type": "aws_kms_key",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:kms:us-east-1:154724799477:key/43df6bd9-e23c-4f23-8877-8930aa0c949c",
            "customer_master_key_spec": "SYMMETRIC_DEFAULT",
            "deletion_window_in_days": 10,
            "description": "KMS key for ConsoleMe disk",
            "enable_key_rotation": true,
            "id": "43df6bd9-e23c-4f23-8877-8930aa0c949c",
            "is_enabled": true,
            "key_id": "43df6bd9-e23c-4f23-8877-8930aa0c949c",
            "key_usage": "ENCRYPT_DECRYPT",
            "policy": "{\"Id\":\"key-default-1\",\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::154724799477:root\"},\"Resource\":\"*\",\"Sid\":\"Enable IAM User Permissions\"}],\"Version\":\"2012-10-17\"}",
            "tags": {
              "Name": "sfdc-somestage-consoleme",
              "Namespace": "sfdc",
              "Stage": "somestage"
            }
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.network",
      "mode": "data",
      "type": "aws_vpc_endpoint_service",
      "name": "dynamodb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "acceptance_required": false,
            "arn": "arn:aws:ec2:us-east-1:154724799477:vpc-endpoint-service/vpce-svc-099eb39957ebe7ecc",
            "availability_zones": [
              "us-east-1a",
              "us-east-1b",
              "us-east-1c",
              "us-east-1d",
              "us-east-1e",
              "us-east-1f"
            ],
            "base_endpoint_dns_names": [
              "dynamodb.us-east-1.amazonaws.com"
            ],
            "filter": null,
            "id": "2816157640",
            "manages_vpc_endpoints": false,
            "owner": "amazon",
            "private_dns_name": "",
            "service": "dynamodb",
            "service_id": "vpce-svc-099eb39957ebe7ecc",
            "service_name": "com.amazonaws.us-east-1.dynamodb",
            "service_type": "Gateway",
            "tags": {},
            "vpc_endpoint_policy_supported": true
          }
        }
      ]
    },
    {
      "module": "module.network",
      "mode": "data",
      "type": "aws_vpc_endpoint_service",
      "name": "s3",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "acceptance_required": false,
            "arn": "arn:aws:ec2:us-east-1:154724799477:vpc-endpoint-service/vpce-svc-0aa7c06513d4872d5",
            "availability_zones": [
              "us-east-1a",
              "us-east-1b",
              "us-east-1c",
              "us-east-1d",
              "us-east-1e",
              "us-east-1f"
            ],
            "base_endpoint_dns_names": [
              "s3.us-east-1.amazonaws.com"
            ],
            "filter": null,
            "id": "195798706",
            "manages_vpc_endpoints": false,
            "owner": "amazon",
            "private_dns_name": "",
            "service": "s3",
            "service_id": "vpce-svc-0aa7c06513d4872d5",
            "service_name": "com.amazonaws.us-east-1.s3",
            "service_type": "Gateway",
            "tags": {},
            "vpc_endpoint_policy_supported": true
          }
        }
      ]
    },
    {
      "module": "module.network",
      "mode": "managed",
      "type": "aws_eip",
      "name": "nat",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "allocation_id": null,
            "associate_with_private_ip": null,
            "association_id": "eipassoc-038c840e4fd0380b5",
            "customer_owned_ip": "",
            "customer_owned_ipv4_pool": "",
            "domain": "vpc",
            "id": "eipalloc-0d6426bec751ce277",
            "instance": "",
            "network_border_group": "us-east-1",
            "network_interface": "eni-095715384a32ec4de",
            "private_dns": "ip-10-1-1-141.ec2.internal",
            "private_ip": "10.1.1.141",
            "public_dns": "ec2-54-205-172-109.compute-1.amazonaws.com",
            "public_ip": "54.205.172.109",
            "public_ipv4_pool": "amazon",
            "tags": {
              "Name": "sfdc-somestage-consoleme-us-east-1a"
            },
            "timeouts": null,
            "vpc": true
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxODAwMDAwMDAwMDAsInJlYWQiOjkwMDAwMDAwMDAwMCwidXBkYXRlIjozMDAwMDAwMDAwMDB9fQ=="
        }
      ]
    },
    {
      "module": "module.network",
      "mode": "managed",
      "type": "aws_internet_gateway",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:154724799477:internet-gateway/igw-0f3814794471a0487",
            "id": "igw-0f3814794471a0487",
            "owner_id": "154724799477",
            "tags": {
              "Name": "sfdc-somestage-consoleme"
            },
            "vpc_id": "vpc-05f67a7eecc868262"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.network.aws_vpc.this",
            "module.network.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.network",
      "mode": "managed",
      "type": "aws_nat_gateway",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "allocation_id": "eipalloc-0d6426bec751ce277",
            "id": "nat-01852184e2fff3483",
            "network_interface_id": "eni-095715384a32ec4de",
            "private_ip": "10.1.1.141",
            "public_ip": "54.205.172.109",
            "subnet_id": "subnet-0c4d74ecacef9b593",
            "tags": {
              "Name": "sfdc-somestage-consoleme-us-east-1a"
            }
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.network.aws_eip.nat",
            "module.network.aws_internet_gateway.this",
            "module.network.aws_subnet.public",
            "module.network.aws_vpc.this",
            "module.network.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.network",
      "mode": "managed",
      "type": "aws_route",
      "name": "private_nat_gateway",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "destination_cidr_block": "0.0.0.0/0",
            "destination_ipv6_cidr_block": "",
            "destination_prefix_list_id": "",
            "egress_only_gateway_id": "",
            "gateway_id": "",
            "id": "r-rtb-0fcf905a32a4574621080289494",
            "instance_id": "",
            "instance_owner_id": "",
            "local_gateway_id": "",
            "nat_gateway_id": "nat-01852184e2fff3483",
            "network_interface_id": "",
            "origin": "CreateRoute",
            "route_table_id": "rtb-0fcf905a32a457462",
            "state": "active",
            "timeouts": {
              "create": "5m",
              "delete": null
            },
            "transit_gateway_id": "",
            "vpc_endpoint_id": null,
            "vpc_peering_connection_id": ""
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "module.network.aws_eip.nat",
            "module.network.aws_internet_gateway.this",
            "module.network.aws_nat_gateway.this",
            "module.network.aws_route_table.private",
            "module.network.aws_subnet.public",
            "module.network.aws_vpc.this",
            "module.network.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.network",
      "mode": "managed",
      "type": "aws_route",
      "name": "public_internet_gateway",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "destination_cidr_block": "0.0.0.0/0",
            "destination_ipv6_cidr_block": "",
            "destination_prefix_list_id": "",
            "egress_only_gateway_id": "",
            "gateway_id": "igw-0f3814794471a0487",
            "id": "r-rtb-0dd560c93a8ccd6521080289494",
            "instance_id": "",
            "instance_owner_id": "",
            "local_gateway_id": "",
            "nat_gateway_id": "",
            "network_interface_id": "",
            "origin": "CreateRoute",
            "route_table_id": "rtb-0dd560c93a8ccd652",
            "state": "active",
            "timeouts": {
              "create": "5m",
              "delete": null
            },
            "transit_gateway_id": "",
            "vpc_endpoint_id": null,
            "vpc_peering_connection_id": ""
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "module.network.aws_internet_gateway.this",
            "module.network.aws_route_table.public",
            "module.network.aws_vpc.this",
            "module.network.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.network",
      "mode": "managed",
      "type": "aws_route_table",
      "name": "private",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "rtb-0fcf905a32a457462",
            "owner_id": "154724799477",
            "propagating_vgws": [
              "vgw-077212358c3f86b79"
            ],
            "route": [
              {
                "cidr_block": "0.0.0.0/0",
                "egress_only_gateway_id": "",
                "gateway_id": "",
                "instance_id": "",
                "ipv6_cidr_block": "",
                "local_gateway_id": "",
                "nat_gateway_id": "nat-01852184e2fff3483",
                "network_interface_id": "",
                "transit_gateway_id": "",
                "vpc_endpoint_id": "",
                "vpc_peering_connection_id": ""
              }
            ],
            "tags": {
              "Name": "sfdc-somestage-consoleme-private-subnet-us-east-1a"
            },
            "vpc_id": "vpc-05f67a7eecc868262"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.network.aws_vpc.this",
            "module.network.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.network",
      "mode": "managed",
      "type": "aws_route_table",
      "name": "public",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "rtb-0dd560c93a8ccd652",
            "owner_id": "154724799477",
            "propagating_vgws": [
              "vgw-077212358c3f86b79"
            ],
            "route": [
              {
                "cidr_block": "0.0.0.0/0",
                "egress_only_gateway_id": "",
                "gateway_id": "igw-0f3814794471a0487",
                "instance_id": "",
                "ipv6_cidr_block": "",
                "local_gateway_id": "",
                "nat_gateway_id": "",
                "network_interface_id": "",
                "transit_gateway_id": "",
                "vpc_endpoint_id": "",
                "vpc_peering_connection_id": ""
              }
            ],
            "tags": {
              "Name": "sfdc-somestage-consoleme-public-subnet"
            },
            "vpc_id": "vpc-05f67a7eecc868262"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.network.aws_vpc.this",
            "module.network.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.network",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "private",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "gateway_id": null,
            "id": "rtbassoc-08c6832d1cfd155e3",
            "route_table_id": "rtb-0fcf905a32a457462",
            "subnet_id": "subnet-0d77fc56ced3bf239"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.network.aws_route_table.private",
            "module.network.aws_subnet.private",
            "module.network.aws_vpc.this",
            "module.network.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.network",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "public",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "gateway_id": null,
            "id": "rtbassoc-0d4ca413380b16f7f",
            "route_table_id": "rtb-0dd560c93a8ccd652",
            "subnet_id": "subnet-0c4d74ecacef9b593"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.network.aws_route_table.public",
            "module.network.aws_subnet.public",
            "module.network.aws_vpc.this",
            "module.network.aws_vpc_ipv4_cidr_block_association.this"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "gateway_id": null,
            "id": "rtbassoc-04bfe45672fdaabb8",
            "route_table_id": "rtb-0dd560c93a8ccd652",
            "subnet_id": "subnet-0f03c4aca2dd68972"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.network.aws_route_table.public",
            "module.network.aws_subnet.public",
            "module.network.aws_vpc.this",
            "module.network.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.network",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "private",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:154724799477:subnet/subnet-0d77fc56ced3bf239",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "us-east-1a",
            "availability_zone_id": "use1-az1",
            "cidr_block": "10.1.1.0/28",
            "id": "subnet-0d77fc56ced3bf239",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "154724799477",
            "tags": {
              "Name": "sfdc-somestage-consoleme-private-subnet-us-east-1a"
            },
            "timeouts": null,
            "vpc_id": "vpc-05f67a7eecc868262"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.network.aws_vpc.this",
            "module.network.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.network",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "public",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:154724799477:subnet/subnet-0c4d74ecacef9b593",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "us-east-1a",
            "availability_zone_id": "use1-az1",
            "cidr_block": "10.1.1.128/28",
            "id": "subnet-0c4d74ecacef9b593",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_public_ip_on_launch": true,
            "outpost_arn": "",
            "owner_id": "154724799477",
            "tags": {
              "Name": "sfdc-somestage-consoleme-public-subnet-us-east-1a"
            },
            "timeouts": null,
            "vpc_id": "vpc-05f67a7eecc868262"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.network.aws_vpc.this",
            "module.network.aws_vpc_ipv4_cidr_block_association.this"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:154724799477:subnet/subnet-0f03c4aca2dd68972",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "us-east-1b",
            "availability_zone_id": "use1-az2",
            "cidr_block": "10.1.1.144/28",
            "id": "subnet-0f03c4aca2dd68972",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_public_ip_on_launch": true,
            "outpost_arn": "",
            "owner_id": "154724799477",
            "tags": {
              "Name": "sfdc-somestage-consoleme-public-subnet-us-east-1b"
            },
            "timeouts": null,
            "vpc_id": "vpc-05f67a7eecc868262"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.network.aws_vpc.this",
            "module.network.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.network",
      "mode": "managed",
      "type": "aws_vpc",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:154724799477:vpc/vpc-05f67a7eecc868262",
            "assign_generated_ipv6_cidr_block": false,
            "cidr_block": "10.1.1.0/24",
            "default_network_acl_id": "acl-07e7ac5bf55c247e4",
            "default_route_table_id": "rtb-04627c735024ccde6",
            "default_security_group_id": "sg-0b746fc216ec609c8",
            "dhcp_options_id": "dopt-05b4e2646ec42dccf",
            "enable_classiclink": false,
            "enable_classiclink_dns_support": false,
            "enable_dns_hostnames": true,
            "enable_dns_support": true,
            "id": "vpc-05f67a7eecc868262",
            "instance_tenancy": "default",
            "ipv6_association_id": "",
            "ipv6_cidr_block": "",
            "main_route_table_id": "rtb-04627c735024ccde6",
            "owner_id": "154724799477",
            "tags": {
              "Name": "sfdc-somestage-consoleme"
            }
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "module": "module.network",
      "mode": "managed",
      "type": "aws_vpc_dhcp_options",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:154724799477:dhcp-options/dopt-05b4e2646ec42dccf",
            "domain_name": "",
            "domain_name_servers": [
              "AmazonProvidedDNS"
            ],
            "id": "dopt-05b4e2646ec42dccf",
            "netbios_name_servers": [],
            "netbios_node_type": "",
            "ntp_servers": [],
            "owner_id": "154724799477",
            "tags": {
              "Name": "sfdc-somestage-consoleme"
            }
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.network",
      "mode": "managed",
      "type": "aws_vpc_dhcp_options_association",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "dhcp_options_id": "dopt-05b4e2646ec42dccf",
            "id": "dopt-05b4e2646ec42dccf-vpc-05f67a7eecc868262",
            "vpc_id": "vpc-05f67a7eecc868262"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.network.aws_vpc.this",
            "module.network.aws_vpc_dhcp_options.this",
            "module.network.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.network",
      "mode": "managed",
      "type": "aws_vpc_endpoint",
      "name": "dynamodb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:154724799477:vpc-endpoint/vpce-0a6dc3cb9725dbdc0",
            "auto_accept": null,
            "cidr_blocks": [
              "3.218.182.0/24",
              "3.218.180.0/23",
              "52.94.0.0/22",
              "52.119.224.0/20"
            ],
            "dns_entry": [],
            "id": "vpce-0a6dc3cb9725dbdc0",
            "network_interface_ids": [],
            "owner_id": "154724799477",
            "policy": "{\"Statement\":[{\"Action\":\"*\",\"Effect\":\"Allow\",\"Principal\":\"*\",\"Resource\":\"*\"}],\"Version\":\"2008-10-17\"}",
            "prefix_list_id": "pl-02cd2c6b",
            "private_dns_enabled": false,
            "requester_managed": false,
            "route_table_ids": [
              "rtb-0dd560c93a8ccd652",
              "rtb-0fcf905a32a457462"
            ],
            "security_group_ids": [],
            "service_name": "com.amazonaws.us-east-1.dynamodb",
            "state": "available",
            "subnet_ids": [],
            "tags": {},
            "timeouts": null,
            "vpc_endpoint_type": "Gateway",
            "vpc_id": "vpc-05f67a7eecc868262"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.network.aws_vpc.this",
            "module.network.aws_vpc_ipv4_cidr_block_association.this",
            "module.network.data.aws_vpc_endpoint_service.dynamodb"
          ]
        }
      ]
    },
    {
      "module": "module.network",
      "mode": "managed",
      "type": "aws_vpc_endpoint",
      "name": "s3",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:us-east-1:154724799477:vpc-endpoint/vpce-0183215172acc2d43",
            "auto_accept": null,
            "cidr_blocks": [
              "54.231.0.0/17",
              "52.216.0.0/15",
              "3.5.0.0/18"
            ],
            "dns_entry": [],
            "id": "vpce-0183215172acc2d43",
            "network_interface_ids": [],
            "owner_id": "154724799477",
            "policy": "{\"Statement\":[{\"Action\":\"*\",\"Effect\":\"Allow\",\"Principal\":\"*\",\"Resource\":\"*\"}],\"Version\":\"2008-10-17\"}",
            "prefix_list_id": "pl-63a5400a",
            "private_dns_enabled": false,
            "requester_managed": false,
            "route_table_ids": [
              "rtb-0dd560c93a8ccd652",
              "rtb-0fcf905a32a457462"
            ],
            "security_group_ids": [],
            "service_name": "com.amazonaws.us-east-1.s3",
            "state": "available",
            "subnet_ids": [],
            "tags": {},
            "timeouts": null,
            "vpc_endpoint_type": "Gateway",
            "vpc_id": "vpc-05f67a7eecc868262"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.network.aws_vpc.this",
            "module.network.aws_vpc_ipv4_cidr_block_association.this",
            "module.network.data.aws_vpc_endpoint_service.s3"
          ]
        }
      ]
    },
    {
      "module": "module.network",
      "mode": "managed",
      "type": "aws_vpc_endpoint_route_table_association",
      "name": "private_dynamodb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "a-vpce-0a6dc3cb9725dbdc01052690652",
            "route_table_id": "rtb-0fcf905a32a457462",
            "vpc_endpoint_id": "vpce-0a6dc3cb9725dbdc0"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.network.aws_route_table.private",
            "module.network.aws_vpc.this",
            "module.network.aws_vpc_endpoint.dynamodb",
            "module.network.aws_vpc_ipv4_cidr_block_association.this",
            "module.network.data.aws_vpc_endpoint_service.dynamodb"
          ]
        }
      ]
    },
    {
      "module": "module.network",
      "mode": "managed",
      "type": "aws_vpc_endpoint_route_table_association",
      "name": "private_s3",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "a-vpce-0183215172acc2d431052690652",
            "route_table_id": "rtb-0fcf905a32a457462",
            "vpc_endpoint_id": "vpce-0183215172acc2d43"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.network.aws_route_table.private",
            "module.network.aws_vpc.this",
            "module.network.aws_vpc_endpoint.s3",
            "module.network.aws_vpc_ipv4_cidr_block_association.this",
            "module.network.data.aws_vpc_endpoint_service.s3"
          ]
        }
      ]
    },
    {
      "module": "module.network",
      "mode": "managed",
      "type": "aws_vpc_endpoint_route_table_association",
      "name": "public_dynamodb",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "a-vpce-0a6dc3cb9725dbdc01591768457",
            "route_table_id": "rtb-0dd560c93a8ccd652",
            "vpc_endpoint_id": "vpce-0a6dc3cb9725dbdc0"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.network.aws_route_table.public",
            "module.network.aws_vpc.this",
            "module.network.aws_vpc_endpoint.dynamodb",
            "module.network.aws_vpc_ipv4_cidr_block_association.this",
            "module.network.data.aws_vpc_endpoint_service.dynamodb"
          ]
        }
      ]
    },
    {
      "module": "module.network",
      "mode": "managed",
      "type": "aws_vpc_endpoint_route_table_association",
      "name": "public_s3",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "a-vpce-0183215172acc2d431591768457",
            "route_table_id": "rtb-0dd560c93a8ccd652",
            "vpc_endpoint_id": "vpce-0183215172acc2d43"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.network.aws_route_table.public",
            "module.network.aws_vpc.this",
            "module.network.aws_vpc_endpoint.s3",
            "module.network.aws_vpc_ipv4_cidr_block_association.this",
            "module.network.data.aws_vpc_endpoint_service.s3"
          ]
        }
      ]
    },
    {
      "module": "module.network",
      "mode": "managed",
      "type": "aws_vpn_gateway",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "amazon_side_asn": "64512",
            "arn": "arn:aws:ec2:us-east-1:154724799477:vpn-gateway/vgw-077212358c3f86b79",
            "availability_zone": null,
            "id": "vgw-077212358c3f86b79",
            "tags": {
              "Name": "sfdc-somestage-consoleme"
            },
            "vpc_id": "vpc-05f67a7eecc868262"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.network.aws_vpc.this",
            "module.network.aws_vpc_ipv4_cidr_block_association.this"
          ]
        }
      ]
    },
    {
      "module": "module.network",
      "mode": "managed",
      "type": "aws_vpn_gateway_route_propagation",
      "name": "private",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "vgw-077212358c3f86b79_rtb-0fcf905a32a457462",
            "route_table_id": "rtb-0fcf905a32a457462",
            "vpn_gateway_id": "vgw-077212358c3f86b79"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.network.aws_route_table.private",
            "module.network.aws_vpc.this",
            "module.network.aws_vpc_ipv4_cidr_block_association.this",
            "module.network.aws_vpn_gateway.this",
            "module.network.aws_vpn_gateway_attachment.this"
          ]
        }
      ]
    },
    {
      "module": "module.network",
      "mode": "managed",
      "type": "aws_vpn_gateway_route_propagation",
      "name": "public",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "vgw-077212358c3f86b79_rtb-0dd560c93a8ccd652",
            "route_table_id": "rtb-0dd560c93a8ccd652",
            "vpn_gateway_id": "vgw-077212358c3f86b79"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.network.aws_route_table.public",
            "module.network.aws_vpc.this",
            "module.network.aws_vpc_ipv4_cidr_block_association.this",
            "module.network.aws_vpn_gateway.this",
            "module.network.aws_vpn_gateway_attachment.this"
          ]
        }
      ]
    },
    {
      "module": "module.server",
      "mode": "managed",
      "type": "aws_instance",
      "name": "this",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "ami": "ami-0e04af8e50845beb6",
            "arn": "arn:aws:ec2:us-east-1:154724799477:instance/i-02c8f3c9642f8744d",
            "associate_public_ip_address": false,
            "availability_zone": "us-east-1a",
            "cpu_core_count": 8,
            "cpu_threads_per_core": 1,
            "credit_specification": [
              {
                "cpu_credits": "standard"
              }
            ],
            "disable_api_termination": false,
            "ebs_block_device": [],
            "ebs_optimized": false,
            "ephemeral_block_device": [],
            "get_password_data": false,
            "hibernation": false,
            "host_id": null,
            "iam_instance_profile": "consolemeInstanceProfile",
            "id": "i-02c8f3c9642f8744d",
            "instance_initiated_shutdown_behavior": "",
            "instance_state": "running",
            "instance_type": "t2.2xlarge",
            "ipv6_address_count": 0,
            "ipv6_addresses": [],
            "key_name": "kinnaird",
            "metadata_options": [
              {
                "http_endpoint": "enabled",
                "http_put_response_hop_limit": 1,
                "http_tokens": "required"
              }
            ],
            "monitoring": false,
            "network_interface": [],
            "outpost_arn": "",
            "password_data": "",
            "placement_group": "",
            "primary_network_interface_id": "eni-0562bd35bbeeef4af",
            "private_dns": "ip-10-1-1-11.ec2.internal",
            "private_ip": "10.1.1.11",
            "public_dns": "",
            "public_ip": "",
            "root_block_device": [
              {
                "delete_on_termination": true,
                "device_name": "/dev/xvda",
                "encrypted": true,
                "iops": 150,
                "kms_key_id": "arn:aws:kms:us-east-1:154724799477:key/43df6bd9-e23c-4f23-8877-8930aa0c949c",
                "volume_id": "vol-07cc89fff9cb61be4",
                "volume_size": 50,
                "volume_type": "gp2"
              }
            ],
            "secondary_private_ips": [],
            "security_groups": [],
            "source_dest_check": true,
            "subnet_id": "subnet-0d77fc56ced3bf239",
            "tags": {
              "Name": "sfdc-somestage-consoleme",
              "Namespace": "sfdc",
              "Stage": "somestage"
            },
            "tenancy": "default",
            "timeouts": null,
            "user_data": "32d84f0cc67cc57474dd8161015a6babe7716c1b",
            "user_data_base64": null,
            "volume_tags": {
              "Name": "sfdc-somestage-consoleme"
            },
            "vpc_security_group_ids": [
              "sg-0b0ffe6a5eeb85e24"
            ]
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "aws_iam_instance_profile.ConsoleMeInstanceProfile",
            "aws_s3_bucket.consoleme_files_bucket",
            "aws_s3_bucket_object.consoleme_config",
            "aws_s3_bucket_object.consoleme_zip",
            "aws_security_group.server",
            "data.aws_ami.amazon_linux",
            "data.template_file.consoleme_config",
            "data.template_file.consoleme_userdata",
            "module.kms_ebs.aws_kms_key.default",
            "module.network.aws_subnet.private"
          ]
        }
      ]
    }
  ]
}
